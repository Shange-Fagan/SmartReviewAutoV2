function $m(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Um(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hf={exports:{}},wo={},pf={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),Fm=Symbol.for("react.portal"),Mm=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),qm=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Km=Symbol.for("react.memo"),Gm=Symbol.for("react.lazy"),sc=Symbol.iterator;function Jm(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gf=Object.assign,yf={};function Mn(e,t,r){this.props=e,this.context=t,this.refs=yf,this.updater=r||mf}Mn.prototype.isReactComponent={};Mn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vf(){}vf.prototype=Mn.prototype;function zl(e,t,r){this.props=e,this.context=t,this.refs=yf,this.updater=r||mf}var Bl=zl.prototype=new vf;Bl.constructor=zl;gf(Bl,Mn.prototype);Bl.isPureReactComponent=!0;var ic=Array.isArray,wf=Object.prototype.hasOwnProperty,Vl={current:null},xf={key:!0,ref:!0,__self:!0,__source:!0};function _f(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wf.call(t,n)&&!xf.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:qs,type:e,key:i,ref:o,props:s,_owner:Vl.current}}function Qm(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function Xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oc=/\/+/g;function Jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xm(""+e.key):t.toString(36)}function Ei(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case Fm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Jo(o,0):n,ic(s)?(r="",e!=null&&(r=e.replace(oc,"$&/")+"/"),Ei(s,t,r,"",function(u){return u})):s!=null&&(Wl(s)&&(s=Qm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ic(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Jo(i,a);o+=Ei(i,t,r,l,s)}else if(l=Jm(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Jo(i,a++),o+=Ei(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(e,t,r){if(e==null)return e;var n=[],s=0;return Ei(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Ym(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ji={transition:null},Zm={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ji,ReactCurrentOwner:Vl};function Sf(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:ni,forEach:function(e,t,r){ni(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Mn;K.Fragment=Mm;K.Profiler=Bm;K.PureComponent=zl;K.StrictMode=zm;K.Suspense=Hm;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zm;K.act=Sf;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)wf.call(t,l)&&!xf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:qs,type:e.type,key:s,ref:i,props:n,_owner:o}};K.createContext=function(e){return e={$$typeof:Wm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};K.createElement=_f;K.createFactory=function(e){var t=_f.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:qm,render:e}};K.isValidElement=Wl;K.lazy=function(e){return{$$typeof:Gm,_payload:{_status:-1,_result:e},_init:Ym}};K.memo=function(e,t){return{$$typeof:Km,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};K.unstable_act=Sf;K.useCallback=function(e,t){return Be.current.useCallback(e,t)};K.useContext=function(e){return Be.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};K.useEffect=function(e,t){return Be.current.useEffect(e,t)};K.useId=function(){return Be.current.useId()};K.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Be.current.useMemo(e,t)};K.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};K.useRef=function(e){return Be.current.useRef(e)};K.useState=function(e){return Be.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return Be.current.useTransition()};K.version="18.3.1";pf.exports=K;var S=pf.exports;const je=Dm(S),eg=$m({__proto__:null,default:je},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=S,rg=Symbol.for("react.element"),ng=Symbol.for("react.fragment"),sg=Object.prototype.hasOwnProperty,ig=tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,og={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)sg.call(t,n)&&!og.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:rg,type:e,key:i,ref:o,props:s,_owner:ig.current}}wo.Fragment=ng;wo.jsx=kf;wo.jsxs=kf;hf.exports=wo;var c=hf.exports,Ta={},bf={exports:{}},it={},Ef={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var W=A.length;A.push(M);e:for(;0<W;){var ie=W-1>>>1,ge=A[ie];if(0<s(ge,M))A[ie]=M,A[W]=ge,W=ie;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],W=A.pop();if(W!==M){A[0]=W;e:for(var ie=0,ge=A.length,Ar=ge>>>1;ie<Ar;){var At=2*(ie+1)-1,nn=A[At],It=At+1,Qt=A[It];if(0>s(nn,W))It<ge&&0>s(Qt,nn)?(A[ie]=Qt,A[It]=W,ie=It):(A[ie]=nn,A[At]=W,ie=At);else if(It<ge&&0>s(Qt,W))A[ie]=Qt,A[It]=W,ie=It;else break e}}return M}function s(A,M){var W=A.sortIndex-M.sortIndex;return W!==0?W:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,v=!1,x=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(u)}}function w(A){if(_=!1,g(A),!x)if(r(l)!==null)x=!0,ke(E);else{var M=r(u);M!==null&&We(w,M.startTime-A)}}function E(A,M){x=!1,_&&(_=!1,m(T),T=-1),v=!0;var W=h;try{for(g(M),f=r(l);f!==null&&(!(f.expirationTime>M)||A&&!Q());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var ge=ie(f.expirationTime<=M);M=e.unstable_now(),typeof ge=="function"?f.callback=ge:f===r(l)&&n(l),g(M)}else n(l);f=r(l)}if(f!==null)var Ar=!0;else{var At=r(u);At!==null&&We(w,At.startTime-M),Ar=!1}return Ar}finally{f=null,h=W,v=!1}}var P=!1,j=null,T=-1,D=5,U=-1;function Q(){return!(e.unstable_now()-U<D)}function B(){if(j!==null){var A=e.unstable_now();U=A;var M=!0;try{M=j(!0,A)}finally{M?V():(P=!1,j=null)}}else P=!1}var V;if(typeof p=="function")V=function(){p(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Te=Z.port2;Z.port1.onmessage=B,V=function(){Te.postMessage(null)}}else V=function(){b(B,0)};function ke(A){j=A,P||(P=!0,V())}function We(A,M){T=b(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ke(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var W=h;h=M;try{return A()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=h;h=A;try{return M()}finally{h=W}},e.unstable_scheduleCallback=function(A,M,W){var ie=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=W+ge,A={id:d++,callback:M,priorityLevel:A,startTime:W,expirationTime:ge,sortIndex:-1},W>ie?(A.sortIndex=W,t(u,A),r(l)===null&&A===r(u)&&(_?(m(T),T=-1):_=!0,We(w,W-ie))):(A.sortIndex=ge,t(l,A),x||v||(x=!0,ke(E))),A},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(A){var M=h;return function(){var W=h;h=M;try{return A.apply(this,arguments)}finally{h=W}}}})(jf);Ef.exports=jf;var ag=Ef.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=S,st=ag;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cf=new Set,bs={};function Zr(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(bs[e]=t,e=0;e<t.length;e++)Cf.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=Object.prototype.hasOwnProperty,ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ac={},lc={};function cg(e){return Oa.call(lc,e)?!0:Oa.call(ac,e)?!1:ug.test(e)?lc[e]=!0:(ac[e]=!0,!1)}function dg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fg(e,t,r,n){if(t===null||typeof t>"u"||dg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Hl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ql,Hl);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ql,Hl);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ql,Hl);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kl(e,t,r,n){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fg(t,r,s,n)&&(r=null),n||s===null?cg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,si=Symbol.for("react.element"),pn=Symbol.for("react.portal"),mn=Symbol.for("react.fragment"),Gl=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Aa=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),uc=Symbol.iterator;function Gn(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Qo;function is(e){if(Qo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qo=t&&t[1]||""}return`
`+Qo+e}var Xo=!1;function Yo(e,t){if(!e||Xo)return"";Xo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?is(e):""}function hg(e){switch(e.tag){case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mn:return"Fragment";case pn:return"Portal";case Ra:return"Profiler";case Gl:return"StrictMode";case Aa:return"Suspense";case Ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nf:return(e.displayName||"Context")+".Consumer";case Pf:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ql:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return La(e(t))}catch{}}return null}function pg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===Gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e){var t=Of(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ii(e){e._valueTracker||(e._valueTracker=mg(e))}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Of(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Af(e,t){t=t.checked,t!=null&&Kl(e,"checked",t,!1)}function Da(e,t){Af(e,t);var r=kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ua(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ua(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ua(e,t,r){(t!=="number"||Fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var os=Array.isArray;function jn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(os(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function If(e,t){var r=kr(t.value),n=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,$f=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gg=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){gg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function Df(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function Uf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Df(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var yg=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if(yg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,Cn=null,Pn=null;function pc(e){if(e=Gs(e)){if(typeof Wa!="function")throw Error(N(280));var t=e.stateNode;t&&(t=bo(t),Wa(e.stateNode,e.type,t))}}function Ff(e){Cn?Pn?Pn.push(e):Pn=[e]:Cn=e}function Mf(){if(Cn){var e=Cn,t=Pn;if(Pn=Cn=null,pc(e),t)for(e=0;e<t.length;e++)pc(t[e])}}function zf(e,t){return e(t)}function Bf(){}var Zo=!1;function Vf(e,t,r){if(Zo)return e(t,r);Zo=!0;try{return zf(e,t,r)}finally{Zo=!1,(Cn!==null||Pn!==null)&&(Bf(),Mf())}}function js(e,t){var r=e.stateNode;if(r===null)return null;var n=bo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var qa=!1;if(Wt)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{qa=!1}function vg(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ds=!1,Mi=null,zi=!1,Ha=null,wg={onError:function(e){ds=!0,Mi=e}};function xg(e,t,r,n,s,i,o,a,l){ds=!1,Mi=null,vg.apply(wg,arguments)}function _g(e,t,r,n,s,i,o,a,l){if(xg.apply(this,arguments),ds){if(ds){var u=Mi;ds=!1,Mi=null}else throw Error(N(198));zi||(zi=!0,Ha=u)}}function en(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mc(e){if(en(e)!==e)throw Error(N(188))}function Sg(e){var t=e.alternate;if(!t){if(t=en(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return mc(s),e;if(i===n)return mc(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function qf(e){return e=Sg(e),e!==null?Hf(e):null}function Hf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hf(e);if(t!==null)return t;e=e.sibling}return null}var Kf=st.unstable_scheduleCallback,gc=st.unstable_cancelCallback,kg=st.unstable_shouldYield,bg=st.unstable_requestPaint,he=st.unstable_now,Eg=st.unstable_getCurrentPriorityLevel,Yl=st.unstable_ImmediatePriority,Gf=st.unstable_UserBlockingPriority,Bi=st.unstable_NormalPriority,jg=st.unstable_LowPriority,Jf=st.unstable_IdlePriority,xo=null,Ot=null;function Cg(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Tg,Pg=Math.log,Ng=Math.LN2;function Tg(e){return e>>>=0,e===0?32:31-(Pg(e)/Ng|0)|0}var ai=64,li=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=as(a):(i&=o,i!==0&&(n=as(i)))}else o=r&~s,o!==0?n=as(o):i!==0&&(n=as(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-kt(t),s=1<<r,n|=e[r],t&=~s;return n}function Og(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Og(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qf(){var e=ai;return ai<<=1,!(ai&4194240)&&(ai=64),e}function ea(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=r}function Ag(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-kt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Zl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Y=0;function Xf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yf,eu,Zf,eh,th,Ga=!1,ui=[],hr=null,pr=null,mr=null,Cs=new Map,Ps=new Map,ir=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function Qn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lg(e,t,r,n,s){switch(t){case"focusin":return hr=Qn(hr,e,t,r,n,s),!0;case"dragenter":return pr=Qn(pr,e,t,r,n,s),!0;case"mouseover":return mr=Qn(mr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Cs.set(i,Qn(Cs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ps.set(i,Qn(Ps.get(i)||null,e,t,r,n,s)),!0}return!1}function rh(e){var t=Mr(e.target);if(t!==null){var r=en(t);if(r!==null){if(t=r.tag,t===13){if(t=Wf(r),t!==null){e.blockedOn=t,th(e.priority,function(){Zf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Va=n,r.target.dispatchEvent(n),Va=null}else return t=Gs(r),t!==null&&eu(t),e.blockedOn=r,!1;t.shift()}return!0}function vc(e,t,r){Ci(e)&&r.delete(t)}function $g(){Ga=!1,hr!==null&&Ci(hr)&&(hr=null),pr!==null&&Ci(pr)&&(pr=null),mr!==null&&Ci(mr)&&(mr=null),Cs.forEach(vc),Ps.forEach(vc)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,$g)))}function Ns(e){function t(s){return Xn(s,e)}if(0<ui.length){Xn(ui[0],e);for(var r=1;r<ui.length;r++){var n=ui[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hr!==null&&Xn(hr,e),pr!==null&&Xn(pr,e),mr!==null&&Xn(mr,e),Cs.forEach(t),Ps.forEach(t),r=0;r<ir.length;r++)n=ir[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)rh(r),r.blockedOn===null&&ir.shift()}var Nn=Jt.ReactCurrentBatchConfig,Wi=!0;function Dg(e,t,r,n){var s=Y,i=Nn.transition;Nn.transition=null;try{Y=1,tu(e,t,r,n)}finally{Y=s,Nn.transition=i}}function Ug(e,t,r,n){var s=Y,i=Nn.transition;Nn.transition=null;try{Y=4,tu(e,t,r,n)}finally{Y=s,Nn.transition=i}}function tu(e,t,r,n){if(Wi){var s=Ja(e,t,r,n);if(s===null)ca(e,t,n,qi,r),yc(e,n);else if(Lg(s,e,t,r,n))n.stopPropagation();else if(yc(e,n),t&4&&-1<Ig.indexOf(e)){for(;s!==null;){var i=Gs(s);if(i!==null&&Yf(i),i=Ja(e,t,r,n),i===null&&ca(e,t,n,qi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ca(e,t,n,null,r)}}var qi=null;function Ja(e,t,r,n){if(qi=null,e=Xl(n),e=Mr(e),e!==null)if(t=en(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eg()){case Yl:return 1;case Gf:return 4;case Bi:case jg:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var cr=null,ru=null,Pi=null;function sh(){if(Pi)return Pi;var e,t=ru,r=t.length,n,s="value"in cr?cr.value:cr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Pi=s.slice(e,1<n?1-n:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function wc(){return!1}function ot(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ci:wc,this.isPropagationStopped=wc,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=ot(zn),Ks=ce({},zn,{view:0,detail:0}),Fg=ot(Ks),ta,ra,Yn,_o=ce({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(ta=e.screenX-Yn.screenX,ra=e.screenY-Yn.screenY):ra=ta=0,Yn=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),xc=ot(_o),Mg=ce({},_o,{dataTransfer:0}),zg=ot(Mg),Bg=ce({},Ks,{relatedTarget:0}),na=ot(Bg),Vg=ce({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=ot(Vg),qg=ce({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hg=ot(qg),Kg=ce({},zn,{data:0}),_c=ot(Kg),Gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qg[e])?!!t[e]:!1}function su(){return Xg}var Yg=ce({},Ks,{key:function(e){if(e.key){var t=Gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=ot(Yg),ey=ce({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=ot(ey),ty=ce({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),ry=ot(ty),ny=ce({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sy=ot(ny),iy=ce({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oy=ot(iy),ay=[9,13,27,32],iu=Wt&&"CompositionEvent"in window,fs=null;Wt&&"documentMode"in document&&(fs=document.documentMode);var ly=Wt&&"TextEvent"in window&&!fs,ih=Wt&&(!iu||fs&&8<fs&&11>=fs),kc=" ",bc=!1;function oh(e,t){switch(e){case"keyup":return ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function uy(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(bc=!0,kc);case"textInput":return e=t.data,e===kc&&bc?null:e;default:return null}}function cy(e,t){if(gn)return e==="compositionend"||!iu&&oh(e,t)?(e=sh(),Pi=ru=cr=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ih&&t.locale!=="ko"?null:t.data;default:return null}}var dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dy[e.type]:t==="textarea"}function lh(e,t,r,n){Ff(n),t=Hi(t,"onChange"),0<t.length&&(r=new nu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hs=null,Ts=null;function fy(e){wh(e,0)}function So(e){var t=wn(e);if(Rf(t))return e}function hy(e,t){if(e==="change")return t}var uh=!1;if(Wt){var sa;if(Wt){var ia="oninput"in document;if(!ia){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),ia=typeof jc.oninput=="function"}sa=ia}else sa=!1;uh=sa&&(!document.documentMode||9<document.documentMode)}function Cc(){hs&&(hs.detachEvent("onpropertychange",ch),Ts=hs=null)}function ch(e){if(e.propertyName==="value"&&So(Ts)){var t=[];lh(t,Ts,e,Xl(e)),Vf(fy,t)}}function py(e,t,r){e==="focusin"?(Cc(),hs=t,Ts=r,hs.attachEvent("onpropertychange",ch)):e==="focusout"&&Cc()}function my(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(Ts)}function gy(e,t){if(e==="click")return So(t)}function yy(e,t){if(e==="input"||e==="change")return So(t)}function vy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:vy;function Os(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Oa.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var r=Pc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pc(r)}}function dh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fh(){for(var e=window,t=Fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fi(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wy(e){var t=fh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dh(r.ownerDocument.documentElement,r)){if(n!==null&&ou(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Nc(r,i);var o=Nc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xy=Wt&&"documentMode"in document&&11>=document.documentMode,yn=null,Qa=null,ps=null,Xa=!1;function Tc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xa||yn==null||yn!==Fi(n)||(n=yn,"selectionStart"in n&&ou(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ps&&Os(ps,n)||(ps=n,n=Hi(Qa,"onSelect"),0<n.length&&(t=new nu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function di(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vn={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},oa={},hh={};Wt&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function ko(e){if(oa[e])return oa[e];if(!vn[e])return e;var t=vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return oa[e]=t[r];return e}var ph=ko("animationend"),mh=ko("animationiteration"),gh=ko("animationstart"),yh=ko("transitionend"),vh=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){vh.set(e,t),Zr(t,[e])}for(var aa=0;aa<Oc.length;aa++){var la=Oc[aa],_y=la.toLowerCase(),Sy=la[0].toUpperCase()+la.slice(1);Er(_y,"on"+Sy)}Er(ph,"onAnimationEnd");Er(mh,"onAnimationIteration");Er(gh,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(yh,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Rc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_g(n,t,void 0,e),e.currentTarget=null}function wh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Rc(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Rc(s,a,u),i=l}}}if(zi)throw e=Ha,zi=!1,Ha=null,e}function ne(e,t){var r=t[rl];r===void 0&&(r=t[rl]=new Set);var n=e+"__bubble";r.has(n)||(xh(t,e,2,!1),r.add(n))}function ua(e,t,r){var n=0;t&&(n|=4),xh(r,e,n,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[fi]){e[fi]=!0,Cf.forEach(function(r){r!=="selectionchange"&&(ky.has(r)||ua(r,!1,e),ua(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,ua("selectionchange",!1,t))}}function xh(e,t,r,n){switch(nh(t)){case 1:var s=Dg;break;case 4:s=Ug;break;default:s=tu}r=s.bind(null,t,r,e),s=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ca(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vf(function(){var u=i,d=Xl(r),f=[];e:{var h=vh.get(e);if(h!==void 0){var v=nu,x=e;switch(e){case"keypress":if(Ni(r)===0)break e;case"keydown":case"keyup":v=Zg;break;case"focusin":x="focus",v=na;break;case"focusout":x="blur",v=na;break;case"beforeblur":case"afterblur":v=na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ry;break;case ph:case mh:case gh:v=Wg;break;case yh:v=sy;break;case"scroll":v=Fg;break;case"wheel":v=oy;break;case"copy":case"cut":case"paste":v=Hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sc}var _=(t&4)!==0,b=!_&&e==="scroll",m=_?h!==null?h+"Capture":null:h;_=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=js(p,m),w!=null&&_.push(As(p,w,g)))),b)break;p=p.return}0<_.length&&(h=new v(h,x,null,r,d),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Va&&(x=r.relatedTarget||r.fromElement)&&(Mr(x)||x[qt]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?Mr(x):null,x!==null&&(b=en(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(_=xc,w="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Sc,w="onPointerLeave",m="onPointerEnter",p="pointer"),b=v==null?h:wn(v),g=x==null?h:wn(x),h=new _(w,p+"leave",v,r,d),h.target=b,h.relatedTarget=g,w=null,Mr(d)===u&&(_=new _(m,p+"enter",x,r,d),_.target=g,_.relatedTarget=b,w=_),b=w,v&&x)t:{for(_=v,m=x,p=0,g=_;g;g=sn(g))p++;for(g=0,w=m;w;w=sn(w))g++;for(;0<p-g;)_=sn(_),p--;for(;0<g-p;)m=sn(m),g--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=sn(_),m=sn(m)}_=null}else _=null;v!==null&&Ac(f,h,v,_,!1),x!==null&&b!==null&&Ac(f,b,x,_,!0)}}e:{if(h=u?wn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=hy;else if(Ec(h))if(uh)E=yy;else{E=my;var P=py}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=gy);if(E&&(E=E(e,u))){lh(f,E,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ua(h,"number",h.value)}switch(P=u?wn(u):window,e){case"focusin":(Ec(P)||P.contentEditable==="true")&&(yn=P,Qa=u,ps=null);break;case"focusout":ps=Qa=yn=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Tc(f,r,d);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Tc(f,r,d)}var j;if(iu)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gn?oh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(ih&&r.locale!=="ko"&&(gn||T!=="onCompositionStart"?T==="onCompositionEnd"&&gn&&(j=sh()):(cr=d,ru="value"in cr?cr.value:cr.textContent,gn=!0)),P=Hi(u,T),0<P.length&&(T=new _c(T,e,null,r,d),f.push({event:T,listeners:P}),j?T.data=j:(j=ah(r),j!==null&&(T.data=j)))),(j=ly?uy(e,r):cy(e,r))&&(u=Hi(u,"onBeforeInput"),0<u.length&&(d=new _c("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}wh(f,t)})}function As(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=js(e,r),i!=null&&n.unshift(As(e,i,s)),i=js(e,t),i!=null&&n.push(As(e,i,s))),e=e.return}return n}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=js(r,i),l!=null&&o.unshift(As(r,l,a))):s||(l=js(r,i),l!=null&&o.push(As(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var by=/\r\n?/g,Ey=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(Ey,"")}function hi(e,t,r){if(t=Ic(t),Ic(e)!==t&&r)throw Error(N(425))}function Ki(){}var Ya=null,Za=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(Py)}:tl;function Py(e){setTimeout(function(){throw e})}function da(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ns(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Bn,Is="__reactProps$"+Bn,qt="__reactContainer$"+Bn,rl="__reactEvents$"+Bn,Ny="__reactListeners$"+Bn,Ty="__reactHandles$"+Bn;function Mr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$c(e);e!==null;){if(r=e[Nt])return r;e=$c(e)}return t}e=r,r=e.parentNode}return null}function Gs(e){return e=e[Nt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function bo(e){return e[Is]||null}var nl=[],xn=-1;function jr(e){return{current:e}}function se(e){0>xn||(e.current=nl[xn],nl[xn]=null,xn--)}function re(e,t){xn++,nl[xn]=e.current,e.current=t}var br={},Ue=jr(br),Ye=jr(!1),Gr=br;function An(e,t){var r=e.type.contextTypes;if(!r)return br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function Gi(){se(Ye),se(Ue)}function Dc(e,t,r){if(Ue.current!==br)throw Error(N(168));re(Ue,t),re(Ye,r)}function _h(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,pg(e)||"Unknown",s));return ce({},r,n)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Gr=Ue.current,re(Ue,e),re(Ye,Ye.current),!0}function Uc(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=_h(e,t,Gr),n.__reactInternalMemoizedMergedChildContext=e,se(Ye),se(Ue),re(Ue,e)):se(Ye),re(Ye,r)}var Mt=null,Eo=!1,fa=!1;function Sh(e){Mt===null?Mt=[e]:Mt.push(e)}function Oy(e){Eo=!0,Sh(e)}function Cr(){if(!fa&&Mt!==null){fa=!0;var e=0,t=Y;try{var r=Mt;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Mt=null,Eo=!1}catch(s){throw Mt!==null&&(Mt=Mt.slice(e+1)),Kf(Yl,Cr),s}finally{Y=t,fa=!1}}return null}var _n=[],Sn=0,Qi=null,Xi=0,lt=[],ut=0,Jr=null,zt=1,Bt="";function $r(e,t){_n[Sn++]=Xi,_n[Sn++]=Qi,Qi=e,Xi=t}function kh(e,t,r){lt[ut++]=zt,lt[ut++]=Bt,lt[ut++]=Jr,Jr=e;var n=zt;e=Bt;var s=32-kt(n)-1;n&=~(1<<s),r+=1;var i=32-kt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,zt=1<<32-kt(t)+s|r<<s|n,Bt=i+e}else zt=1<<i|r<<s|n,Bt=e}function au(e){e.return!==null&&($r(e,1),kh(e,1,0))}function lu(e){for(;e===Qi;)Qi=_n[--Sn],_n[Sn]=null,Xi=_n[--Sn],_n[Sn]=null;for(;e===Jr;)Jr=lt[--ut],lt[ut]=null,Bt=lt[--ut],lt[ut]=null,zt=lt[--ut],lt[ut]=null}var nt=null,rt=null,ae=!1,xt=null;function bh(e,t){var r=ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,rt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jr!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,rt=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(ae){var t=rt;if(t){var r=t;if(!Fc(e,t)){if(sl(e))throw Error(N(418));t=gr(r.nextSibling);var n=nt;t&&Fc(e,t)?bh(n,r):(e.flags=e.flags&-4097|2,ae=!1,nt=e)}}else{if(sl(e))throw Error(N(418));e.flags=e.flags&-4097|2,ae=!1,nt=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function pi(e){if(e!==nt)return!1;if(!ae)return Mc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=rt)){if(sl(e))throw Eh(),Error(N(418));for(;t;)bh(e,t),t=gr(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=gr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=nt?gr(e.stateNode.nextSibling):null;return!0}function Eh(){for(var e=rt;e;)e=gr(e.nextSibling)}function In(){rt=nt=null,ae=!1}function uu(e){xt===null?xt=[e]:xt.push(e)}var Ry=Jt.ReactCurrentBatchConfig;function Zn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zc(e){var t=e._init;return t(e._payload)}function jh(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=xr(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,w){return p===null||p.tag!==6?(p=wa(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,w){var E=g.type;return E===mn?d(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&zc(E)===p.type)?(w=s(p,g.props),w.ref=Zn(m,p,g),w.return=m,w):(w=$i(g.type,g.key,g.props,null,m.mode,w),w.ref=Zn(m,p,g),w.return=m,w)}function u(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=xa(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,w,E){return p===null||p.tag!==7?(p=Kr(g,m.mode,w,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wa(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case si:return g=$i(p.type,p.key,p.props,null,m.mode,g),g.ref=Zn(m,null,p),g.return=m,g;case pn:return p=xa(p,m.mode,g),p.return=m,p;case rr:var w=p._init;return f(m,w(p._payload),g)}if(os(p)||Gn(p))return p=Kr(p,m.mode,g,null),p.return=m,p;mi(m,p)}return null}function h(m,p,g,w){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case si:return g.key===E?l(m,p,g,w):null;case pn:return g.key===E?u(m,p,g,w):null;case rr:return E=g._init,h(m,p,E(g._payload),w)}if(os(g)||Gn(g))return E!==null?null:d(m,p,g,w,null);mi(m,g)}return null}function v(m,p,g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,a(p,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case si:return m=m.get(w.key===null?g:w.key)||null,l(p,m,w,E);case pn:return m=m.get(w.key===null?g:w.key)||null,u(p,m,w,E);case rr:var P=w._init;return v(m,p,g,P(w._payload),E)}if(os(w)||Gn(w))return m=m.get(g)||null,d(p,m,w,E,null);mi(p,w)}return null}function x(m,p,g,w){for(var E=null,P=null,j=p,T=p=0,D=null;j!==null&&T<g.length;T++){j.index>T?(D=j,j=null):D=j.sibling;var U=h(m,j,g[T],w);if(U===null){j===null&&(j=D);break}e&&j&&U.alternate===null&&t(m,j),p=i(U,p,T),P===null?E=U:P.sibling=U,P=U,j=D}if(T===g.length)return r(m,j),ae&&$r(m,T),E;if(j===null){for(;T<g.length;T++)j=f(m,g[T],w),j!==null&&(p=i(j,p,T),P===null?E=j:P.sibling=j,P=j);return ae&&$r(m,T),E}for(j=n(m,j);T<g.length;T++)D=v(j,m,T,g[T],w),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?T:D.key),p=i(D,p,T),P===null?E=D:P.sibling=D,P=D);return e&&j.forEach(function(Q){return t(m,Q)}),ae&&$r(m,T),E}function _(m,p,g,w){var E=Gn(g);if(typeof E!="function")throw Error(N(150));if(g=E.call(g),g==null)throw Error(N(151));for(var P=E=null,j=p,T=p=0,D=null,U=g.next();j!==null&&!U.done;T++,U=g.next()){j.index>T?(D=j,j=null):D=j.sibling;var Q=h(m,j,U.value,w);if(Q===null){j===null&&(j=D);break}e&&j&&Q.alternate===null&&t(m,j),p=i(Q,p,T),P===null?E=Q:P.sibling=Q,P=Q,j=D}if(U.done)return r(m,j),ae&&$r(m,T),E;if(j===null){for(;!U.done;T++,U=g.next())U=f(m,U.value,w),U!==null&&(p=i(U,p,T),P===null?E=U:P.sibling=U,P=U);return ae&&$r(m,T),E}for(j=n(m,j);!U.done;T++,U=g.next())U=v(j,m,T,U.value,w),U!==null&&(e&&U.alternate!==null&&j.delete(U.key===null?T:U.key),p=i(U,p,T),P===null?E=U:P.sibling=U,P=U);return e&&j.forEach(function(B){return t(m,B)}),ae&&$r(m,T),E}function b(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===mn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case si:e:{for(var E=g.key,P=p;P!==null;){if(P.key===E){if(E=g.type,E===mn){if(P.tag===7){r(m,P.sibling),p=s(P,g.props.children),p.return=m,m=p;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&zc(E)===P.type){r(m,P.sibling),p=s(P,g.props),p.ref=Zn(m,P,g),p.return=m,m=p;break e}r(m,P);break}else t(m,P);P=P.sibling}g.type===mn?(p=Kr(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=$i(g.type,g.key,g.props,null,m.mode,w),w.ref=Zn(m,p,g),w.return=m,m=w)}return o(m);case pn:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=xa(g,m.mode,w),p.return=m,m=p}return o(m);case rr:return P=g._init,b(m,p,P(g._payload),w)}if(os(g))return x(m,p,g,w);if(Gn(g))return _(m,p,g,w);mi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=wa(g,m.mode,w),p.return=m,m=p),o(m)):r(m,p)}return b}var Ln=jh(!0),Ch=jh(!1),Yi=jr(null),Zi=null,kn=null,cu=null;function du(){cu=kn=Zi=null}function fu(e){var t=Yi.current;se(Yi),e._currentValue=t}function ol(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tn(e,t){Zi=e,cu=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Zi===null)throw Error(N(308));kn=e,Zi.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var zr=null;function hu(e){zr===null?zr=[e]:zr.push(e)}function Ph(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ht(e,n)}function Ht(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nr=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ht(e,r)}return s=n.interleaved,s===null?(t.next=t,hu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ht(e,r)}function Ti(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}function Bc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var s=e.updateQueue;nr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,_=a;switch(h=t,v=r,_.tag){case 1:if(x=_.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=ce({},f,h);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xr|=o,e.lanes=o,e.memoizedState=f}}function Vc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Js={},Rt=jr(Js),Ls=jr(Js),$s=jr(Js);function Br(e){if(e===Js)throw Error(N(174));return e}function mu(e,t){switch(re($s,t),re(Ls,e),re(Rt,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}se(Rt),re(Rt,t)}function $n(){se(Rt),se(Ls),se($s)}function Th(e){Br($s.current);var t=Br(Rt.current),r=Ma(t,e.type);t!==r&&(re(Ls,e),re(Rt,r))}function gu(e){Ls.current===e&&(se(Rt),se(Ls))}var le=jr(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function yu(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var Oi=Jt.ReactCurrentDispatcher,pa=Jt.ReactCurrentBatchConfig,Qr=0,ue=null,_e=null,Ce=null,ro=!1,ms=!1,Ds=0,Ay=0;function Ie(){throw Error(N(321))}function vu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function wu(e,t,r,n,s,i){if(Qr=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oi.current=e===null||e.memoizedState===null?Dy:Uy,e=r(n,s),ms){i=0;do{if(ms=!1,Ds=0,25<=i)throw Error(N(301));i+=1,Ce=_e=null,t.updateQueue=null,Oi.current=Fy,e=r(n,s)}while(ms)}if(Oi.current=no,t=_e!==null&&_e.next!==null,Qr=0,Ce=_e=ue=null,ro=!1,t)throw Error(N(300));return e}function xu(){var e=Ds!==0;return Ds=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function pt(){if(_e===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ce===null?ue.memoizedState:Ce.next;if(t!==null)Ce=t,_e=e;else{if(e===null)throw Error(N(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Us(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=pt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=_e,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Qr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ue.lanes|=d,Xr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Et(n,t.memoizedState)||(Xe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,Xr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ga(e){var t=pt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Et(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Oh(){}function Rh(e,t){var r=ue,n=pt(),s=t(),i=!Et(n.memoizedState,s);if(i&&(n.memoizedState=s,Xe=!0),n=n.queue,_u(Lh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Fs(9,Ih.bind(null,r,n,s,t),void 0,null),Pe===null)throw Error(N(349));Qr&30||Ah(r,t,s)}return s}function Ah(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,n){t.value=r,t.getSnapshot=n,$h(t)&&Dh(e)}function Lh(e,t,r){return r(function(){$h(t)&&Dh(e)})}function $h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function Dh(e){var t=Ht(e,1);t!==null&&bt(t,e,1,-1)}function Wc(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=$y.bind(null,ue,e),[t.memoizedState,e]}function Fs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uh(){return pt().memoizedState}function Ri(e,t,r,n){var s=Ct();ue.flags|=e,s.memoizedState=Fs(1|t,r,void 0,n===void 0?null:n)}function jo(e,t,r,n){var s=pt();n=n===void 0?null:n;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,n!==null&&vu(n,o.deps)){s.memoizedState=Fs(t,r,i,n);return}}ue.flags|=e,s.memoizedState=Fs(1|t,r,i,n)}function qc(e,t){return Ri(8390656,8,e,t)}function _u(e,t){return jo(2048,8,e,t)}function Fh(e,t){return jo(4,2,e,t)}function Mh(e,t){return jo(4,4,e,t)}function zh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,r){return r=r!=null?r.concat([e]):null,jo(4,4,zh.bind(null,t,e),r)}function Su(){}function Vh(e,t){var r=pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wh(e,t){var r=pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qh(e,t,r){return Qr&21?(Et(r,t)||(r=Qf(),ue.lanes|=r,Xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=r)}function Iy(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=pa.transition;pa.transition={};try{e(!1),t()}finally{Y=r,pa.transition=n}}function Hh(){return pt().memoizedState}function Ly(e,t,r){var n=wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kh(e))Gh(t,r);else if(r=Ph(e,t,r,n),r!==null){var s=ze();bt(r,e,n,s),Jh(r,t,n)}}function $y(e,t,r){var n=wr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kh(e))Gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Et(a,o)){var l=t.interleaved;l===null?(s.next=s,hu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ph(e,t,s,n),r!==null&&(s=ze(),bt(r,e,n,s),Jh(r,t,n))}}function Kh(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Gh(e,t){ms=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}var no={readContext:ht,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Dy={readContext:ht,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:qc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ri(4194308,4,zh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var r=Ct();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ct();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ly.bind(null,ue,e),[n.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:Wc,useDebugValue:Su,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=Wc(!1),t=e[0];return e=Iy.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ue,s=Ct();if(ae){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),Pe===null)throw Error(N(349));Qr&30||Ah(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qc(Lh.bind(null,n,i,e),[e]),n.flags|=2048,Fs(9,Ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ct(),t=Pe.identifierPrefix;if(ae){var r=Bt,n=zt;r=(n&~(1<<32-kt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ds++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ay++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uy={readContext:ht,useCallback:Vh,useContext:ht,useEffect:_u,useImperativeHandle:Bh,useInsertionEffect:Fh,useLayoutEffect:Mh,useMemo:Wh,useReducer:ma,useRef:Uh,useState:function(){return ma(Us)},useDebugValue:Su,useDeferredValue:function(e){var t=pt();return qh(t,_e.memoizedState,e)},useTransition:function(){var e=ma(Us)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Rh,useId:Hh,unstable_isNewReconciler:!1},Fy={readContext:ht,useCallback:Vh,useContext:ht,useEffect:_u,useImperativeHandle:Bh,useInsertionEffect:Fh,useLayoutEffect:Mh,useMemo:Wh,useReducer:ga,useRef:Uh,useState:function(){return ga(Us)},useDebugValue:Su,useDeferredValue:function(e){var t=pt();return _e===null?t.memoizedState=e:qh(t,_e.memoizedState,e)},useTransition:function(){var e=ga(Us)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Rh,useId:Hh,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function al(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Co={isMounted:function(e){return(e=e._reactInternals)?en(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ze(),s=wr(e),i=Vt(n,s);i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,s),t!==null&&(bt(t,e,s,n),Ti(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ze(),s=wr(e),i=Vt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,s),t!==null&&(bt(t,e,s,n),Ti(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ze(),n=wr(e),s=Vt(r,n);s.tag=2,t!=null&&(s.callback=t),t=yr(e,s,n),t!==null&&(bt(t,e,n,r),Ti(t,e,n))}};function Hc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Os(r,n)||!Os(s,i):!0}function Qh(e,t,r){var n=!1,s=br,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=Ze(t)?Gr:Ue.current,n=t.contextTypes,i=(n=n!=null)?An(e,s):br),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=Ze(t)?Gr:Ue.current,s.context=An(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(al(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Co.enqueueReplaceState(s,s.state,null),eo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var r="",n=t;do r+=hg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ya(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ul(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var My=typeof WeakMap=="function"?WeakMap:Map;function Xh(e,t,r){r=Vt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){io||(io=!0,wl=n),ul(e,t)},r}function Yh(e,t,r){r=Vt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ul(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ul(e,t),typeof n!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new My;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=ev.bind(null,e,t,r),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vt(-1,1),t.tag=2,yr(r,t,1))),r.lanes|=1),e)}var zy=Jt.ReactCurrentOwner,Xe=!1;function Fe(e,t,r,n){t.child=e===null?Ch(t,null,r,n):Ln(t,e.child,r,n)}function Xc(e,t,r,n,s){r=r.render;var i=t.ref;return Tn(t,s),n=wu(e,t,r,n,i,s),r=xu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(ae&&r&&au(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Yc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Tu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Zh(e,t,i,n,s)):(e=$i(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Os,r(o,n)&&e.ref===t.ref)return Kt(e,t,s)}return t.flags|=1,e=xr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Os(i,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Kt(e,t,s)}return cl(e,t,r,n,s)}function ep(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(En,tt),tt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(En,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,re(En,tt),tt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,re(En,tt),tt|=n;return Fe(e,t,s,r),t.child}function tp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cl(e,t,r,n,s){var i=Ze(r)?Gr:Ue.current;return i=An(t,i),Tn(t,s),r=wu(e,t,r,n,i,s),n=xu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(ae&&n&&au(t),t.flags|=1,Fe(e,t,r,s),t.child)}function Zc(e,t,r,n,s){if(Ze(r)){var i=!0;Ji(t)}else i=!1;if(Tn(t,s),t.stateNode===null)Ai(e,t),Qh(t,r,n),ll(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ze(r)?Gr:Ue.current,u=An(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Kc(t,o,n,u),nr=!1;var h=t.memoizedState;o.state=h,eo(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Ye.current||nr?(typeof d=="function"&&(al(t,r,d,n),l=t.memoizedState),(a=nr||Hc(t,r,a,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Nh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yt(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Ze(r)?Gr:Ue.current,l=An(t,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Kc(t,o,n,l),nr=!1,h=t.memoizedState,o.state=h,eo(t,n,o,s);var x=t.memoizedState;a!==f||h!==x||Ye.current||nr?(typeof v=="function"&&(al(t,r,v,n),x=t.memoizedState),(u=nr||Hc(t,r,u,n,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dl(e,t,r,n,i,s)}function dl(e,t,r,n,s,i){tp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Uc(t,r,!1),Kt(e,t,i);n=t.stateNode,zy.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ln(t,e.child,null,i),t.child=Ln(t,null,a,i)):Fe(e,t,a,i),t.memoizedState=n.state,s&&Uc(t,r,!0),t.child}function rp(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),mu(e,t.containerInfo)}function ed(e,t,r,n,s){return In(),uu(s),t.flags|=256,Fe(e,t,r,n),t.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function np(e,t,r){var n=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(le,s&1),e===null)return il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=To(o,n,0,null),e=Kr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hl(r),t.memoizedState=fl,e):ku(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return By(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=xr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xr(a,i):(i=Kr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fl,n}return i=e.child,e=i.sibling,n=xr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ku(e,t){return t=To({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,r,n){return n!==null&&uu(n),Ln(t,e.child,null,r),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function By(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ya(Error(N(422))),gi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=To({mode:"visible",children:n.children},s,0,null),i=Kr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ln(t,e.child,null,o),t.child.memoizedState=hl(o),t.memoizedState=fl,i);if(!(t.mode&1))return gi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(N(419)),n=ya(i,n,void 0),gi(e,t,o,n)}if(a=(o&e.childLanes)!==0,Xe||a){if(n=Pe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ht(e,s),bt(n,e,s,-1))}return Nu(),n=ya(Error(N(421))),gi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=tv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=gr(s.nextSibling),nt=t,ae=!0,xt=null,e!==null&&(lt[ut++]=zt,lt[ut++]=Bt,lt[ut++]=Jr,zt=e.id,Bt=e.overflow,Jr=t),t=ku(t,n.children),t.flags|=4096,t)}function td(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ol(e.return,t,r)}function va(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function sp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Fe(e,t,n.children,r),n=le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,r,t);else if(e.tag===19)td(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(re(le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),va(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&to(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}va(t,!0,r,null,i);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=xr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vy(e,t,r){switch(t.tag){case 3:rp(t),In();break;case 5:Th(t);break;case 1:Ze(t.type)&&Ji(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;re(Yi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(re(le,le.current&1),t.flags|=128,null):r&t.child.childLanes?np(e,t,r):(re(le,le.current&1),e=Kt(e,t,r),e!==null?e.sibling:null);re(le,le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(le,le.current),n)break;return null;case 22:case 23:return t.lanes=0,ep(e,t,r)}return Kt(e,t,r)}var ip,pl,op,ap;ip=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pl=function(){};op=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Br(Rt.current);var i=null;switch(r){case"input":s=$a(e,s),n=$a(e,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Fa(e,s),n=Fa(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ki)}za(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ap=function(e,t,r,n){r!==n&&(t.flags|=4)};function es(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Wy(e,t,r){var n=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ze(t.type)&&Gi(),Le(t),null;case 3:return n=t.stateNode,$n(),se(Ye),se(Ue),yu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Sl(xt),xt=null))),pl(e,t),Le(t),null;case 5:gu(t);var s=Br($s.current);if(r=t.type,e!==null&&t.stateNode!=null)op(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Le(t),null}if(e=Br(Rt.current),pi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nt]=t,n[Is]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<ls.length;s++)ne(ls[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":cc(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":fc(n,i),ne("invalid",n)}za(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hi(n.textContent,a,e),s=["children",""+a]):bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",n)}switch(r){case"input":ii(n),dc(n,i,!0);break;case"textarea":ii(n),hc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ki)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Nt]=t,e[Is]=n,ip(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ba(r,n),r){case"dialog":ne("cancel",e),ne("close",e),s=n;break;case"iframe":case"object":case"embed":ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<ls.length;s++)ne(ls[s],e);s=n;break;case"source":ne("error",e),s=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=n;break;case"details":ne("toggle",e),s=n;break;case"input":cc(e,n),s=$a(e,n),ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),ne("invalid",e);break;case"textarea":fc(e,n),s=Fa(e,n),ne("invalid",e);break;default:s=n}za(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Uf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$f(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Es(e,l):typeof l=="number"&&Es(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&Kl(e,i,l,o))}switch(r){case"input":ii(e),dc(e,n,!1);break;case"textarea":ii(e),hc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?jn(e,!!n.multiple,i,!1):n.defaultValue!=null&&jn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)ap(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Br($s.current),Br(Rt.current),pi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nt]=t,(i=n.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:hi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return Le(t),null;case 13:if(se(le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&rt!==null&&t.mode&1&&!(t.flags&128))Eh(),In(),t.flags|=98560,i=!1;else if(i=pi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Nt]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else xt!==null&&(Sl(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?Se===0&&(Se=3):Nu())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return $n(),pl(e,t),e===null&&Rs(t.stateNode.containerInfo),Le(t),null;case 10:return fu(t.type._context),Le(t),null;case 17:return Ze(t.type)&&Gi(),Le(t),null;case 19:if(se(le),i=t.memoizedState,i===null)return Le(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)es(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=to(e),o!==null){for(t.flags|=128,es(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return re(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>Un&&(t.flags|=128,n=!0,es(i,!1),t.lanes=4194304)}else{if(!n)if(e=to(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Le(t),null}else 2*he()-i.renderingStartTime>Un&&r!==1073741824&&(t.flags|=128,n=!0,es(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,r=le.current,re(le,n?r&1|2:r&1),t):(Le(t),null);case 22:case 23:return Pu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function qy(e,t){switch(lu(t),t.tag){case 1:return Ze(t.type)&&Gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),se(Ye),se(Ue),yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gu(t),null;case 13:if(se(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(le),null;case 4:return $n(),null;case 10:return fu(t.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var yi=!1,De=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,L=null;function bn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function ml(e,t,r){try{r()}catch(n){de(e,t,n)}}var rd=!1;function Ky(e,t){if(Ya=Wi,e=fh(),ou(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Za={focusedElem:e,selectionRange:r},Wi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,b=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:yt(t.type,_),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){de(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return x=rd,rd=!1,x}function gs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ml(t,r,i)}s=s.next}while(s!==n)}}function Po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Is],delete t[rl],delete t[Ny],delete t[Ty])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function up(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}function vl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vl(e,t,r),e=e.sibling;e!==null;)vl(e,t,r),e=e.sibling}var Oe=null,vt=!1;function Yt(e,t,r){for(r=r.child;r!==null;)cp(e,t,r),r=r.sibling}function cp(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(xo,r)}catch{}switch(r.tag){case 5:De||bn(r,t);case 6:var n=Oe,s=vt;Oe=null,Yt(e,t,r),Oe=n,vt=s,Oe!==null&&(vt?(e=Oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Oe.removeChild(r.stateNode));break;case 18:Oe!==null&&(vt?(e=Oe,r=r.stateNode,e.nodeType===8?da(e.parentNode,r):e.nodeType===1&&da(e,r),Ns(e)):da(Oe,r.stateNode));break;case 4:n=Oe,s=vt,Oe=r.stateNode.containerInfo,vt=!0,Yt(e,t,r),Oe=n,vt=s;break;case 0:case 11:case 14:case 15:if(!De&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ml(r,t,o),s=s.next}while(s!==n)}Yt(e,t,r);break;case 1:if(!De&&(bn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){de(r,t,a)}Yt(e,t,r);break;case 21:Yt(e,t,r);break;case 22:r.mode&1?(De=(n=De)||r.memoizedState!==null,Yt(e,t,r),De=n):Yt(e,t,r);break;default:Yt(e,t,r)}}function sd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hy),t.forEach(function(n){var s=rv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,vt=!1;break e;case 3:Oe=a.stateNode.containerInfo,vt=!0;break e;case 4:Oe=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(Oe===null)throw Error(N(160));cp(i,o,s),Oe=null,vt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){de(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}function dp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),jt(e),n&4){try{gs(3,e,e.return),Po(3,e)}catch(_){de(e,e.return,_)}try{gs(5,e,e.return)}catch(_){de(e,e.return,_)}}break;case 1:mt(t,e),jt(e),n&512&&r!==null&&bn(r,r.return);break;case 5:if(mt(t,e),jt(e),n&512&&r!==null&&bn(r,r.return),e.flags&32){var s=e.stateNode;try{Es(s,"")}catch(_){de(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Af(s,i),Ba(a,o);var u=Ba(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Uf(s,f):d==="dangerouslySetInnerHTML"?$f(s,f):d==="children"?Es(s,f):Kl(s,d,f,u)}switch(a){case"input":Da(s,i);break;case"textarea":If(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?jn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?jn(s,!!i.multiple,i.defaultValue,!0):jn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Is]=i}catch(_){de(e,e.return,_)}}break;case 6:if(mt(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){de(e,e.return,_)}}break;case 3:if(mt(t,e),jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(_){de(e,e.return,_)}break;case 4:mt(t,e),jt(e);break;case 13:mt(t,e),jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ju=he())),n&4&&sd(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(De=(u=De)||d,mt(t,e),De=u):mt(t,e),jt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(f=L=d;L!==null;){switch(h=L,v=h.child,h.tag){case 0:case 11:case 14:case 15:gs(4,h,h.return);break;case 1:bn(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(_){de(n,r,_)}}break;case 5:bn(h,h.return);break;case 22:if(h.memoizedState!==null){od(f);continue}}v!==null?(v.return=h,L=v):od(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Df("display",o))}catch(_){de(e,e.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){de(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mt(t,e),jt(e),n&4&&sd(e);break;case 21:break;default:mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(up(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Es(s,""),n.flags&=-33);var i=nd(e);vl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=nd(e);yl(e,a,o);break;default:throw Error(N(161))}}catch(l){de(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gy(e,t,r){L=e,fp(e)}function fp(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||yi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||De;a=yi;var u=De;if(yi=o,(De=l)&&!u)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?ad(s):l!==null?(l.return=o,L=l):ad(s);for(;i!==null;)L=i,fp(i),i=i.sibling;L=s,yi=a,De=u}id(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):id(e)}}function id(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Po(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!De)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:yt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vc(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ns(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}De||t.flags&512&&gl(t)}catch(h){de(t,t.return,h)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function od(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function ad(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Po(4,t)}catch(l){de(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){de(t,s,l)}}var i=t.return;try{gl(t)}catch(l){de(t,i,l)}break;case 5:var o=t.return;try{gl(t)}catch(l){de(t,o,l)}}}catch(l){de(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Jy=Math.ceil,so=Jt.ReactCurrentDispatcher,bu=Jt.ReactCurrentOwner,dt=Jt.ReactCurrentBatchConfig,J=0,Pe=null,xe=null,Re=0,tt=0,En=jr(0),Se=0,Ms=null,Xr=0,No=0,Eu=0,ys=null,Je=null,ju=0,Un=1/0,Ut=null,io=!1,wl=null,vr=null,vi=!1,dr=null,oo=0,vs=0,xl=null,Ii=-1,Li=0;function ze(){return J&6?he():Ii!==-1?Ii:Ii=he()}function wr(e){return e.mode&1?J&2&&Re!==0?Re&-Re:Ry.transition!==null?(Li===0&&(Li=Qf()),Li):(e=Y,e!==0||(e=window.event,e=e===void 0?16:nh(e.type)),e):1}function bt(e,t,r,n){if(50<vs)throw vs=0,xl=null,Error(N(185));Hs(e,r,n),(!(J&2)||e!==Pe)&&(e===Pe&&(!(J&2)&&(No|=r),Se===4&&or(e,Re)),et(e,n),r===1&&J===0&&!(t.mode&1)&&(Un=he()+500,Eo&&Cr()))}function et(e,t){var r=e.callbackNode;Rg(e,t);var n=Vi(e,e===Pe?Re:0);if(n===0)r!==null&&gc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gc(r),t===1)e.tag===0?Oy(ld.bind(null,e)):Sh(ld.bind(null,e)),Cy(function(){!(J&6)&&Cr()}),r=null;else{switch(Xf(n)){case 1:r=Yl;break;case 4:r=Gf;break;case 16:r=Bi;break;case 536870912:r=Jf;break;default:r=Bi}r=xp(r,hp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hp(e,t){if(Ii=-1,Li=0,J&6)throw Error(N(327));var r=e.callbackNode;if(On()&&e.callbackNode!==r)return null;var n=Vi(e,e===Pe?Re:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ao(e,n);else{t=n;var s=J;J|=2;var i=mp();(Pe!==e||Re!==t)&&(Ut=null,Un=he()+500,Hr(e,t));do try{Yy();break}catch(a){pp(e,a)}while(!0);du(),so.current=i,J=s,xe!==null?t=0:(Pe=null,Re=0,t=Se)}if(t!==0){if(t===2&&(s=Ka(e),s!==0&&(n=s,t=_l(e,s))),t===1)throw r=Ms,Hr(e,0),or(e,n),et(e,he()),r;if(t===6)or(e,n);else{if(s=e.current.alternate,!(n&30)&&!Qy(s)&&(t=ao(e,n),t===2&&(i=Ka(e),i!==0&&(n=i,t=_l(e,i))),t===1))throw r=Ms,Hr(e,0),or(e,n),et(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:Dr(e,Je,Ut);break;case 3:if(or(e,n),(n&130023424)===n&&(t=ju+500-he(),10<t)){if(Vi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tl(Dr.bind(null,e,Je,Ut),t);break}Dr(e,Je,Ut);break;case 4:if(or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-kt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jy(n/1960))-n,10<n){e.timeoutHandle=tl(Dr.bind(null,e,Je,Ut),n);break}Dr(e,Je,Ut);break;case 5:Dr(e,Je,Ut);break;default:throw Error(N(329))}}}return et(e,he()),e.callbackNode===r?hp.bind(null,e):null}function _l(e,t){var r=ys;return e.current.memoizedState.isDehydrated&&(Hr(e,t).flags|=256),e=ao(e,t),e!==2&&(t=Je,Je=r,t!==null&&Sl(t)),e}function Sl(e){Je===null?Je=e:Je.push.apply(Je,e)}function Qy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~Eu,t&=~No,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kt(t),n=1<<r;e[r]=-1,t&=~n}}function ld(e){if(J&6)throw Error(N(327));On();var t=Vi(e,0);if(!(t&1))return et(e,he()),null;var r=ao(e,t);if(e.tag!==0&&r===2){var n=Ka(e);n!==0&&(t=n,r=_l(e,n))}if(r===1)throw r=Ms,Hr(e,0),or(e,t),et(e,he()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,Je,Ut),et(e,he()),null}function Cu(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(Un=he()+500,Eo&&Cr())}}function Yr(e){dr!==null&&dr.tag===0&&!(J&6)&&On();var t=J;J|=1;var r=dt.transition,n=Y;try{if(dt.transition=null,Y=1,e)return e()}finally{Y=n,dt.transition=r,J=t,!(J&6)&&Cr()}}function Pu(){tt=En.current,se(En)}function Hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jy(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gi();break;case 3:$n(),se(Ye),se(Ue),yu();break;case 5:gu(n);break;case 4:$n();break;case 13:se(le);break;case 19:se(le);break;case 10:fu(n.type._context);break;case 22:case 23:Pu()}r=r.return}if(Pe=e,xe=e=xr(e.current,null),Re=tt=t,Se=0,Ms=null,Eu=No=Xr=0,Je=ys=null,zr!==null){for(t=0;t<zr.length;t++)if(r=zr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}zr=null}return e}function pp(e,t){do{var r=xe;try{if(du(),Oi.current=no,ro){for(var n=ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ro=!1}if(Qr=0,Ce=_e=ue=null,ms=!1,Ds=0,bu.current=null,r===null||r.return===null){Se=1,Ms=t,xe=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Jc(o);if(v!==null){v.flags&=-257,Qc(v,o,a,i,t),v.mode&1&&Gc(i,u,t),t=v,l=u;var x=t.updateQueue;if(x===null){var _=new Set;_.add(l),t.updateQueue=_}else x.add(l);break e}else{if(!(t&1)){Gc(i,u,t),Nu();break e}l=Error(N(426))}}else if(ae&&a.mode&1){var b=Jc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qc(b,o,a,i,t),uu(Dn(l,a));break e}}i=l=Dn(l,a),Se!==4&&(Se=2),ys===null?ys=[i]:ys.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Xh(i,l,t);Bc(i,m);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vr===null||!vr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Yh(i,a,t);Bc(i,w);break e}}i=i.return}while(i!==null)}yp(r)}catch(E){t=E,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function mp(){var e=so.current;return so.current=no,e===null?no:e}function Nu(){(Se===0||Se===3||Se===2)&&(Se=4),Pe===null||!(Xr&268435455)&&!(No&268435455)||or(Pe,Re)}function ao(e,t){var r=J;J|=2;var n=mp();(Pe!==e||Re!==t)&&(Ut=null,Hr(e,t));do try{Xy();break}catch(s){pp(e,s)}while(!0);if(du(),J=r,so.current=n,xe!==null)throw Error(N(261));return Pe=null,Re=0,Se}function Xy(){for(;xe!==null;)gp(xe)}function Yy(){for(;xe!==null&&!kg();)gp(xe)}function gp(e){var t=wp(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?yp(e):xe=t,bu.current=null}function yp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qy(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,xe=null;return}}else if(r=Wy(r,t,tt),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Se===0&&(Se=5)}function Dr(e,t,r){var n=Y,s=dt.transition;try{dt.transition=null,Y=1,Zy(e,t,r,n)}finally{dt.transition=s,Y=n}return null}function Zy(e,t,r,n){do On();while(dr!==null);if(J&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ag(e,i),e===Pe&&(xe=Pe=null,Re=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vi||(vi=!0,xp(Bi,function(){return On(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=Y;Y=1;var a=J;J|=4,bu.current=null,Ky(e,r),dp(r,e),wy(Za),Wi=!!Ya,Za=Ya=null,e.current=r,Gy(r),bg(),J=a,Y=o,dt.transition=i}else e.current=r;if(vi&&(vi=!1,dr=e,oo=s),i=e.pendingLanes,i===0&&(vr=null),Cg(r.stateNode),et(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(io)throw io=!1,e=wl,wl=null,e;return oo&1&&e.tag!==0&&On(),i=e.pendingLanes,i&1?e===xl?vs++:(vs=0,xl=e):vs=0,Cr(),null}function On(){if(dr!==null){var e=Xf(oo),t=dt.transition,r=Y;try{if(dt.transition=null,Y=16>e?16:e,dr===null)var n=!1;else{if(e=dr,dr=null,oo=0,J&6)throw Error(N(331));var s=J;for(J|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:gs(8,d,i)}var f=d.child;if(f!==null)f.return=d,L=f;else for(;L!==null;){d=L;var h=d.sibling,v=d.return;if(lp(d),d===u){L=null;break}if(h!==null){h.return=v,L=h;break}L=v}}}var x=i.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Po(9,a)}}catch(E){de(a,a.return,E)}if(a===o){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(J=s,Cr(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(xo,e)}catch{}n=!0}return n}finally{Y=r,dt.transition=t}}return!1}function ud(e,t,r){t=Dn(r,t),t=Xh(e,t,1),e=yr(e,t,1),t=ze(),e!==null&&(Hs(e,1,t),et(e,t))}function de(e,t,r){if(e.tag===3)ud(e,e,r);else for(;t!==null;){if(t.tag===3){ud(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vr===null||!vr.has(n))){e=Dn(r,e),e=Yh(t,e,1),t=yr(t,e,1),e=ze(),t!==null&&(Hs(t,1,e),et(t,e));break}}t=t.return}}function ev(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&r,Pe===e&&(Re&r)===r&&(Se===4||Se===3&&(Re&130023424)===Re&&500>he()-ju?Hr(e,0):Eu|=r),et(e,t)}function vp(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var r=ze();e=Ht(e,t),e!==null&&(Hs(e,t,r),et(e,r))}function tv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vp(e,r)}function rv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),vp(e,r)}var wp;wp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Xe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xe=!1,Vy(e,t,r);Xe=!!(e.flags&131072)}else Xe=!1,ae&&t.flags&1048576&&kh(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ai(e,t),e=t.pendingProps;var s=An(t,Ue.current);Tn(t,r),s=wu(null,t,n,e,s,r);var i=xu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(i=!0,Ji(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pu(t),s.updater=Co,t.stateNode=s,s._reactInternals=t,ll(t,n,e,r),t=dl(null,t,n,!0,i,r)):(t.tag=0,ae&&i&&au(t),Fe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ai(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=sv(n),e=yt(n,e),s){case 0:t=cl(null,t,n,e,r);break e;case 1:t=Zc(null,t,n,e,r);break e;case 11:t=Xc(null,t,n,e,r);break e;case 14:t=Yc(null,t,n,yt(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yt(n,s),cl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yt(n,s),Zc(e,t,n,s,r);case 3:e:{if(rp(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Nh(e,t),eo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Dn(Error(N(423)),t),t=ed(e,t,n,r,s);break e}else if(n!==s){s=Dn(Error(N(424)),t),t=ed(e,t,n,r,s);break e}else for(rt=gr(t.stateNode.containerInfo.firstChild),nt=t,ae=!0,xt=null,r=Ch(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(In(),n===s){t=Kt(e,t,r);break e}Fe(e,t,n,r)}t=t.child}return t;case 5:return Th(t),e===null&&il(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,el(n,s)?o=null:i!==null&&el(n,i)&&(t.flags|=32),tp(e,t),Fe(e,t,o,r),t.child;case 6:return e===null&&il(t),null;case 13:return np(e,t,r);case 4:return mu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ln(t,null,n,r):Fe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yt(n,s),Xc(e,t,n,s,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,re(Yi,n._currentValue),n._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!Ye.current){t=Kt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Vt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ol(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ol(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Tn(t,r),s=ht(s),n=n(s),t.flags|=1,Fe(e,t,n,r),t.child;case 14:return n=t.type,s=yt(n,t.pendingProps),s=yt(n.type,s),Yc(e,t,n,s,r);case 15:return Zh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yt(n,s),Ai(e,t),t.tag=1,Ze(n)?(e=!0,Ji(t)):e=!1,Tn(t,r),Qh(t,n,s),ll(t,n,s,r),dl(null,t,n,!0,e,r);case 19:return sp(e,t,r);case 22:return ep(e,t,r)}throw Error(N(156,t.tag))};function xp(e,t){return Kf(e,t)}function nv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,r,n){return new nv(e,t,r,n)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sv(e){if(typeof e=="function")return Tu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Ql)return 14}return 2}function xr(e,t){var r=e.alternate;return r===null?(r=ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $i(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Tu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mn:return Kr(r.children,s,i,t);case Gl:o=8,s|=8;break;case Ra:return e=ct(12,r,t,s|2),e.elementType=Ra,e.lanes=i,e;case Aa:return e=ct(13,r,t,s),e.elementType=Aa,e.lanes=i,e;case Ia:return e=ct(19,r,t,s),e.elementType=Ia,e.lanes=i,e;case Tf:return To(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pf:o=10;break e;case Nf:o=9;break e;case Jl:o=11;break e;case Ql:o=14;break e;case rr:o=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=ct(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Kr(e,t,r,n){return e=ct(7,e,n,t),e.lanes=r,e}function To(e,t,r,n){return e=ct(22,e,n,t),e.elementType=Tf,e.lanes=r,e.stateNode={isHidden:!1},e}function wa(e,t,r){return e=ct(6,e,null,t),e.lanes=r,e}function xa(e,t,r){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iv(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ou(e,t,r,n,s,i,o,a,l){return e=new iv(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(i),e}function ov(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _p(e){if(!e)return br;e=e._reactInternals;e:{if(en(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Ze(r))return _h(e,r,t)}return t}function Sp(e,t,r,n,s,i,o,a,l){return e=Ou(r,n,!0,e,s,i,o,a,l),e.context=_p(null),r=e.current,n=ze(),s=wr(r),i=Vt(n,s),i.callback=t??null,yr(r,i,s),e.current.lanes=s,Hs(e,s,n),et(e,n),e}function Oo(e,t,r,n){var s=t.current,i=ze(),o=wr(s);return r=_p(r),t.context===null?t.context=r:t.pendingContext=r,t=Vt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yr(s,t,o),e!==null&&(bt(e,s,o,i),Ti(e,s,o)),o}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ru(e,t){cd(e,t),(e=e.alternate)&&cd(e,t)}function av(){return null}var kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Au(e){this._internalRoot=e}Ro.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Oo(e,t,null,null)};Ro.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Oo(null,e,null,null)}),t[qt]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=eh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ir.length&&t!==0&&t<ir[r].priority;r++);ir.splice(r,0,e),r===0&&rh(e)}};function Iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dd(){}function lv(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=lo(o);i.call(u)}}var o=Sp(t,n,e,0,null,!1,!1,"",dd);return e._reactRootContainer=o,e[qt]=o.current,Rs(e.nodeType===8?e.parentNode:e),Yr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=lo(l);a.call(u)}}var l=Ou(e,0,!1,null,null,!1,!1,"",dd);return e._reactRootContainer=l,e[qt]=l.current,Rs(e.nodeType===8?e.parentNode:e),Yr(function(){Oo(t,l,r,n)}),l}function Io(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lo(o);a.call(l)}}Oo(t,o,e,s)}else o=lv(r,t,e,s,n);return lo(o)}Yf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=as(t.pendingLanes);r!==0&&(Zl(t,r|1),et(t,he()),!(J&6)&&(Un=he()+500,Cr()))}break;case 13:Yr(function(){var n=Ht(e,1);if(n!==null){var s=ze();bt(n,e,1,s)}}),Ru(e,1)}};eu=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var r=ze();bt(t,e,134217728,r)}Ru(e,134217728)}};Zf=function(e){if(e.tag===13){var t=wr(e),r=Ht(e,t);if(r!==null){var n=ze();bt(r,e,t,n)}Ru(e,t)}};eh=function(){return Y};th=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};Wa=function(e,t,r){switch(t){case"input":if(Da(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bo(n);if(!s)throw Error(N(90));Rf(n),Da(n,s)}}}break;case"textarea":If(e,r);break;case"select":t=r.value,t!=null&&jn(e,!!r.multiple,t,!1)}};zf=Cu;Bf=Yr;var uv={usingClientEntryPoint:!1,Events:[Gs,wn,bo,Ff,Mf,Cu]},ts={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cv={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qf(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{xo=wi.inject(cv),Ot=wi}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uv;it.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(t))throw Error(N(200));return ov(e,t,null,r)};it.createRoot=function(e,t){if(!Iu(e))throw Error(N(299));var r=!1,n="",s=kp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ou(e,1,!1,null,null,r,!1,n,s),e[qt]=t.current,Rs(e.nodeType===8?e.parentNode:e),new Au(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=qf(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return Yr(e)};it.hydrate=function(e,t,r){if(!Ao(t))throw Error(N(200));return Io(null,e,t,!0,r)};it.hydrateRoot=function(e,t,r){if(!Iu(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=kp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Sp(t,null,e,1,r??null,s,!1,i,o),e[qt]=t.current,Rs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ro(t)};it.render=function(e,t,r){if(!Ao(t))throw Error(N(200));return Io(null,e,t,!1,r)};it.unmountComponentAtNode=function(e){if(!Ao(e))throw Error(N(40));return e._reactRootContainer?(Yr(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};it.unstable_batchedUpdates=Cu;it.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ao(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Io(e,t,r,!1,n)};it.version="18.3.1-next-f1338f8080-20240426";function bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bp)}catch(e){console.error(e)}}bp(),bf.exports=it;var dv=bf.exports,fd=dv;Ta.createRoot=fd.createRoot,Ta.hydrateRoot=fd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}var fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fr||(fr={}));const hd="popstate";function fv(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return kl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:uo(s)}return pv(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ep(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hv(){return Math.random().toString(36).substr(2,8)}function pd(e,t){return{usr:e.state,key:e.key,idx:t}}function kl(e,t,r,n){return r===void 0&&(r=null),zs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vn(t):t,{state:r,key:t&&t.key||n||hv()})}function uo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pv(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=fr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(zs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=fr.Pop;let b=d(),m=b==null?null:b-u;u=b,l&&l({action:a,location:_.location,delta:m})}function h(b,m){a=fr.Push;let p=kl(_.location,b,m);u=d()+1;let g=pd(p,u),w=_.createHref(p);try{o.pushState(g,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}i&&l&&l({action:a,location:_.location,delta:1})}function v(b,m){a=fr.Replace;let p=kl(_.location,b,m);u=d();let g=pd(p,u),w=_.createHref(p);o.replaceState(g,"",w),i&&l&&l({action:a,location:_.location,delta:0})}function x(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:uo(b);return p=p.replace(/ $/,"%20"),pe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hd,f),l=b,()=>{s.removeEventListener(hd,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(b){return o.go(b)}};return _}var md;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(md||(md={}));function mv(e,t,r){return r===void 0&&(r="/"),gv(e,t,r)}function gv(e,t,r,n){let s=typeof t=="string"?Vn(t):t,i=Lu(s.pathname||"/",r);if(i==null)return null;let o=jp(e);yv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Nv(i);a=jv(o[l],u)}return a}function jp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=_r([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:bv(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Cp(i.path))s(i,o,l)}),t}function Cp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Cp(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function yv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ev(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vv=/^:[\w-]+$/,wv=3,xv=2,_v=1,Sv=10,kv=-2,gd=e=>e==="*";function bv(e,t){let r=e.split("/"),n=r.length;return r.some(gd)&&(n+=kv),t&&(n+=xv),r.filter(s=>!gd(s)).reduce((s,i)=>s+(vv.test(i)?wv:i===""?_v:Sv),n)}function Ev(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function jv(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:_r([i,f.pathname]),pathnameBase:Av(_r([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=_r([i,f.pathnameBase]))}return o}function Cv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Pv(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Pv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ep(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Nv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ep(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Vn(e):e;return{pathname:r?r.startsWith("/")?r:Ov(r,t):t,search:Iv(n),hash:Lv(s)}}function Ov(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function _a(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $u(e,t){let r=Rv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Du(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Vn(e):(s=zs({},e),pe(!s.pathname||!s.pathname.includes("?"),_a("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),_a("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),_a("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Tv(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const _r=e=>e.join("/").replace(/\/\/+/g,"/"),Av=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $v(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pp=["post","put","patch","delete"];new Set(Pp);const Dv=["get",...Pp];new Set(Dv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(this,arguments)}const Uu=S.createContext(null),Uv=S.createContext(null),Pr=S.createContext(null),Lo=S.createContext(null),Nr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Np=S.createContext(null);function Fv(e,t){let{relative:r}=t===void 0?{}:t;Wn()||pe(!1);let{basename:n,navigator:s}=S.useContext(Pr),{hash:i,pathname:o,search:a}=Op(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:_r([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Wn(){return S.useContext(Lo)!=null}function qn(){return Wn()||pe(!1),S.useContext(Lo).location}function Tp(e){S.useContext(Pr).static||S.useLayoutEffect(e)}function Qs(){let{isDataRoute:e}=S.useContext(Nr);return e?Yv():Mv()}function Mv(){Wn()||pe(!1);let e=S.useContext(Uu),{basename:t,future:r,navigator:n}=S.useContext(Pr),{matches:s}=S.useContext(Nr),{pathname:i}=qn(),o=JSON.stringify($u(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return Tp(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Du(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_r([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function Op(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(Pr),{matches:s}=S.useContext(Nr),{pathname:i}=qn(),o=JSON.stringify($u(s,n.v7_relativeSplatPath));return S.useMemo(()=>Du(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function zv(e,t){return Bv(e,t)}function Bv(e,t,r,n){Wn()||pe(!1);let{navigator:s}=S.useContext(Pr),{matches:i}=S.useContext(Nr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=qn(),d;if(t){var f;let b=typeof t=="string"?Vn(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||pe(!1),d=b}else d=u;let h=d.pathname||"/",v=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=mv(e,{pathname:v}),_=Kv(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:_r([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:_r([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&_?S.createElement(Lo.Provider,{value:{location:Bs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fr.Pop}},_):_}function Vv(){let e=Xv(),t=$v(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,null)}const Wv=S.createElement(Vv,null);class qv extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(Nr.Provider,{value:this.props.routeContext},S.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hv(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(Uu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(Nr.Provider,{value:t},n)}function Kv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let v,x=!1,_=null,b=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||Wv,l&&(u<0&&h===0?(Zv("route-fallback"),x=!0,b=null):u===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),p=()=>{let g;return v?g=_:x?g=b:f.route.Component?g=S.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,S.createElement(Hv,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(qv,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Rp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rp||{}),Ap=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ap||{});function Gv(e){let t=S.useContext(Uu);return t||pe(!1),t}function Jv(e){let t=S.useContext(Uv);return t||pe(!1),t}function Qv(e){let t=S.useContext(Nr);return t||pe(!1),t}function Ip(e){let t=Qv(),r=t.matches[t.matches.length-1];return r.route.id||pe(!1),r.route.id}function Xv(){var e;let t=S.useContext(Np),r=Jv(),n=Ip();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Yv(){let{router:e}=Gv(Rp.UseNavigateStable),t=Ip(Ap.UseNavigateStable),r=S.useRef(!1);return Tp(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Bs({fromRouteId:t},i)))},[e,t])}const yd={};function Zv(e,t,r){yd[e]||(yd[e]=!0)}function e0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Lp(e){let{to:t,replace:r,state:n,relative:s}=e;Wn()||pe(!1);let{future:i,static:o}=S.useContext(Pr),{matches:a}=S.useContext(Nr),{pathname:l}=qn(),u=Qs(),d=Du(t,$u(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function er(e){pe(!1)}function t0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=fr.Pop,navigator:i,static:o=!1,future:a}=e;Wn()&&pe(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:Bs({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Vn(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:x="default"}=n,_=S.useMemo(()=>{let b=Lu(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:v,key:x},navigationType:s}},[l,d,f,h,v,x,s]);return _==null?null:S.createElement(Pr.Provider,{value:u},S.createElement(Lo.Provider,{children:r,value:_}))}function r0(e){let{children:t,location:r}=e;return zv(bl(t),r)}new Promise(()=>{});function bl(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,bl(n.props.children,i));return}n.type!==er&&pe(!1),!n.props.index||!n.props.children||pe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function n0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function s0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i0(e,t){return e.button===0&&(!t||t==="_self")&&!s0(e)}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a0="6";try{window.__reactRouterVersion=a0}catch{}const l0="startTransition",vd=eg[l0];function u0(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=fv({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=S.useCallback(f=>{u&&vd?vd(()=>l(f)):l(f)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>e0(n),[n]),S.createElement(t0,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=S.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=n0(t,o0),{basename:v}=S.useContext(Pr),x,_=!1;if(typeof u=="string"&&d0.test(u)&&(x=u,c0))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=Lu(w.pathname,v);w.origin===g.origin&&E!=null?u=E+w.search+w.hash:_=!0}catch{}let b=Fv(u,{relative:s}),m=f0(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function p(g){n&&n(g),g.defaultPrevented||m(g)}return S.createElement("a",El({},h,{href:x||b,onClick:_||i?n:p,ref:r,target:l}))});var wd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wd||(wd={}));var xd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xd||(xd={}));function f0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Qs(),u=qn(),d=Op(e,{relative:o});return S.useCallback(f=>{if(i0(f,r)){f.preventDefault();let h=n!==void 0?n:uo(u)===uo(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,e,i,o,a])}let h0={data:""},p0=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||h0,m0=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,g0=/\/\*[^]*?\*\/|  +/g,_d=/\n+/g,ar=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ar(o,i):i+"{"+ar(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=ar(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ar.p?ar.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Lt={},$p=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+$p(e[r]);return t}return e},y0=(e,t,r,n,s)=>{let i=$p(e),o=Lt[i]||(Lt[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Lt[o]){let l=i!==e?e:(u=>{let d,f,h=[{}];for(;d=m0.exec(u.replace(g0,""));)d[4]?h.shift():d[3]?(f=d[3].replace(_d," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(_d," ").trim();return h[0]})(e);Lt[o]=ar(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Lt.g?Lt.g:null;return r&&(Lt.g=Lt[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Lt[o],t,n,a),o},v0=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ar(a,""):a===!1?"":a}return n+s+(o??"")},"");function $o(e){let t=this||{},r=e.call?e(t.p):e;return y0(r.unshift?r.raw?v0(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,p0(t.target),t.g,t.o,t.k)}let Dp,jl,Cl;$o.bind({g:1});let Gt=$o.bind({k:1});function w0(e,t,r,n){ar.p=t,Dp=e,jl=r,Cl=n}function Tr(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:jl&&jl()},a),r.o=/ *go\d+/.test(l),a.className=$o.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Cl&&u[0]&&Cl(a),Dp(u,a)}return s}}var x0=e=>typeof e=="function",co=(e,t)=>x0(e)?e(t):e,_0=(()=>{let e=0;return()=>(++e).toString()})(),Up=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),S0=20,Fp=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,S0)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Fp(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Di=[],Vr={toasts:[],pausedAt:void 0},tn=e=>{Vr=Fp(Vr,e),Di.forEach(t=>{t(Vr)})},k0={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},b0=(e={})=>{let[t,r]=S.useState(Vr),n=S.useRef(Vr);S.useEffect(()=>(n.current!==Vr&&r(Vr),Di.push(r),()=>{let i=Di.indexOf(r);i>-1&&Di.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||k0[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},E0=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||_0()}),Xs=e=>(t,r)=>{let n=E0(t,e,r);return tn({type:2,toast:n}),n.id},G=(e,t)=>Xs("blank")(e,t);G.error=Xs("error");G.success=Xs("success");G.loading=Xs("loading");G.custom=Xs("custom");G.dismiss=e=>{tn({type:3,toastId:e})};G.remove=e=>tn({type:4,toastId:e});G.promise=(e,t,r)=>{let n=G.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?co(t.success,s):void 0;return i?G.success(i,{id:n,...r,...r==null?void 0:r.success}):G.dismiss(n),s}).catch(s=>{let i=t.error?co(t.error,s):void 0;i?G.error(i,{id:n,...r,...r==null?void 0:r.error}):G.dismiss(n)}),e};var j0=(e,t)=>{tn({type:1,toast:{id:e,height:t}})},C0=()=>{tn({type:5,time:Date.now()})},ws=new Map,P0=1e3,N0=(e,t=P0)=>{if(ws.has(e))return;let r=setTimeout(()=>{ws.delete(e),tn({type:4,toastId:e})},t);ws.set(e,r)},T0=e=>{let{toasts:t,pausedAt:r}=b0(e);S.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&G.dismiss(a.id);return}return setTimeout(()=>G.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=S.useCallback(()=>{r&&tn({type:6,time:Date.now()})},[r]),s=S.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(v=>(v.position||u)===(i.position||u)&&v.height),f=d.findIndex(v=>v.id===i.id),h=d.filter((v,x)=>x<f&&v.visible).length;return d.filter(v=>v.visible).slice(...a?[h+1]:[0,h]).reduce((v,x)=>v+(x.height||0)+l,0)},[t]);return S.useEffect(()=>{t.forEach(i=>{if(i.dismissed)N0(i.id,i.removeDelay);else{let o=ws.get(i.id);o&&(clearTimeout(o),ws.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:j0,startPause:C0,endPause:n,calculateOffset:s}}},O0=Gt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,R0=Gt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A0=Gt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,I0=Tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${R0} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${A0} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L0=Gt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$0=Tr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${L0} 1s linear infinite;
`,D0=Gt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,U0=Gt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,F0=Tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${U0} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,M0=Tr("div")`
  position: absolute;
`,z0=Tr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,B0=Gt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V0=Tr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${B0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W0=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?S.createElement(V0,null,t):t:r==="blank"?null:S.createElement(z0,null,S.createElement($0,{...n}),r!=="loading"&&S.createElement(M0,null,r==="error"?S.createElement(I0,{...n}):S.createElement(F0,{...n})))},q0=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,H0=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,K0="0%{opacity:0;} 100%{opacity:1;}",G0="0%{opacity:1;} 100%{opacity:0;}",J0=Tr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q0=Tr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,X0=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Up()?[K0,G0]:[q0(r),H0(r)];return{animation:t?`${Gt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Y0=S.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?X0(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(W0,{toast:e}),o=S.createElement(Q0,{...e.ariaProps},co(e.message,e));return S.createElement(J0,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});w0(S.createElement);var Z0=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return S.createElement("div",{ref:i,className:t,style:r},s)},ew=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Up()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},tw=$o`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xi=16,rw=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=T0(r);return S.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:xi,left:xi,right:xi,bottom:xi,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=ew(d,f);return S.createElement(Z0,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?tw:"",style:h},u.type==="custom"?co(u.message,u):s?s(u):S.createElement(Y0,{toast:u,position:d}))}))};const nw="modulepreload",sw=function(e){return"/"+e},Sd={},Ys=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=sw(l),l in Sd)return;Sd[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nw,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},iw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Fu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ow extends Fu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kd extends Fu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bd extends Fu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pl||(Pl={}));var aw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class lw{constructor(t,{headers:r={},customFetch:n,region:s=Pl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=iw(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return aw(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(_=>{throw new ow(_)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new kd(f);if(!f.ok)throw new bd(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield f.json():v==="application/octet-stream"?x=yield f.blob():v==="text/event-stream"?x=f:v==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof bd||s instanceof kd?s.context:void 0}}})}}var Qe={},Mu={},Do={},Zs={},Uo={},Fo={},uw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fn=uw();const cw=Fn.fetch,Mp=Fn.fetch.bind(Fn),zp=Fn.Headers,dw=Fn.Request,fw=Fn.Response,Hn=Object.freeze(Object.defineProperty({__proto__:null,Headers:zp,Request:dw,Response:fw,default:Mp,fetch:cw},Symbol.toStringTag,{value:"Module"})),hw=Um(Hn);var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});let pw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Mo.default=pw;var Bp=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fo,"__esModule",{value:!0});const mw=Bp(hw),gw=Bp(Mo);let yw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,v="OK")}catch{i.status===404&&_===""?(h=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new gw.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Fo.default=yw;var vw=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});const ww=vw(Fo);let xw=class extends ww.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Uo.default=xw;var _w=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0});const Sw=_w(Uo);let kw=class extends Sw.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Zs.default=kw;var bw=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});const rs=bw(Zs);let Ew=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new rs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new rs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new rs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new rs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new rs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Do.default=Ew;var zo={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.version=void 0;Bo.version="0.0.0-automated";Object.defineProperty(zo,"__esModule",{value:!0});zo.DEFAULT_HEADERS=void 0;const jw=Bo;zo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jw.version}`};var Vp=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mu,"__esModule",{value:!0});const Cw=Vp(Do),Pw=Vp(Zs),Nw=zo;let Tw=class Wp{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Nw.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Cw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Pw.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Mu.default=Tw;var Kn=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const qp=Kn(Mu);Qe.PostgrestClient=qp.default;const Hp=Kn(Do);Qe.PostgrestQueryBuilder=Hp.default;const Kp=Kn(Zs);Qe.PostgrestFilterBuilder=Kp.default;const Gp=Kn(Uo);Qe.PostgrestTransformBuilder=Gp.default;const Jp=Kn(Fo);Qe.PostgrestBuilder=Jp.default;const Qp=Kn(Mo);Qe.PostgrestError=Qp.default;var Ow=Qe.default={PostgrestClient:qp.default,PostgrestQueryBuilder:Hp.default,PostgrestFilterBuilder:Kp.default,PostgrestTransformBuilder:Gp.default,PostgrestBuilder:Jp.default,PostgrestError:Qp.default};const{PostgrestClient:Rw,PostgrestQueryBuilder:X1,PostgrestFilterBuilder:Y1,PostgrestTransformBuilder:Z1,PostgrestBuilder:eS,PostgrestError:tS}=Ow;function Aw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Iw=Aw(),Lw="2.11.15",$w=`realtime-js/${Lw}`,Dw="1.0.0",Xp=1e4,Uw=1e3;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var wt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wt||(wt={}));var Nl;(function(e){e.websocket="websocket"})(Nl||(Nl={}));var Fr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fr||(Fr={}));class Fw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Yp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const Ed=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Mw(o,e,t,s),i),{})},Mw=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Zp(i,o):Tl(o)},Zp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ww(t,r)}switch(e){case te.bool:return zw(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Bw(t);case te.json:case te.jsonb:return Vw(t);case te.timestamp:return qw(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Tl(t);default:return Tl(t)}},Tl=e=>e,zw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ww=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Zp(t,a))}return e},qw=e=>typeof e=="string"?e.replace(" ","T"):e,em=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Sa{constructor(t,r,n={},s=Xp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jd||(jd={}));class _s{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=_s.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_s.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),v=f.map(b=>b.presence_ref),x=d.filter(b=>v.indexOf(b.presence_ref)<0),_=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(a[u]=x),_.length>0&&(l[u]=_)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cd||(Cd={}));var Pd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pd||(Pd={}));var Ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class zu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sa(this,wt.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _s(this),this.broadcastEndpointURL=em(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Ft.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ft.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ft.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let _=0;_<v;_++){const b=h[_],{filter:{event:m,schema:p,table:g,filter:w}}=b,E=d&&d[_];if(E&&E.event===m&&E.schema===p&&E.table===g&&E.filter===w)x.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=$e.errored,t==null||t(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ft.SUBSCRIBED);return}}).receive("error",d=>{this.state=$e.errored,t==null||t(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Sa(this,wt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sa(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=wt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,_,b;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(_=v.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,_,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,E=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((_=r.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:_,table:b,commit_timestamp:m,type:p,errors:g}=x;h=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(h,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wt.close,{},t)}_onError(t){this._on(wt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ed(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ed(t.columns,t.old_record)),r}}const Nd=()=>{},Hw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kw{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nd,this.ref=0,this.logger=Nd,this.conn=null,this.sendBuffer=[],this.serializer=new Fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ys(async()=>{const{default:l}=await Promise.resolve().then(()=>Hn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Nl.websocket}`,this.httpEndpoint=em(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Iw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dw}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return Fr.Connecting;case xs.open:return Fr.Open;case xs.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new zu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:$w};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(wt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Uw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(wt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Hw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Bu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gw extends Bu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ol extends Bu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Jw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const tm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qw=()=>Jw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>Hn),void 0)).Response:Response}),Rl=e=>{if(Array.isArray(e))return e.map(r=>Rl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rl(n)}),t};var rn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xw=(e,t,r)=>rn(void 0,void 0,void 0,function*(){const n=yield Qw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Gw(ka(s),e.status||500))}).catch(s=>{t(new Ol(ka(s),s))}):t(new Ol(ka(e),e))}),Yw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ei(e,t,r,n,s,i){return rn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Yw(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Xw(l,a,n))})})}function fo(e,t,r,n){return rn(this,void 0,void 0,function*(){return ei(e,"GET",t,r,n)})}function sr(e,t,r,n,s){return rn(this,void 0,void 0,function*(){return ei(e,"POST",t,n,s,r)})}function Zw(e,t,r,n,s){return rn(this,void 0,void 0,function*(){return ei(e,"PUT",t,n,s,r)})}function ex(e,t,r,n){return rn(this,void 0,void 0,function*(){return ei(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rm(e,t,r,n,s){return rn(this,void 0,void 0,function*(){return ei(e,"DELETE",t,n,s,r)})}var qe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const tx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Td={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=tm(s)}uploadOrUpdate(t,r,n,s){return qe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Td),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}upload(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Td.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ee(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Bu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}update(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}copy(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}download(t,r){return qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield fo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}info(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rl(n),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}exists(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ex(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ee(n)&&n instanceof Ol){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield rm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}list(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tx),r),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nx="2.7.1",sx={"X-Client-Info":`storage-js/${nx}`};var on=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class ix{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},sx),r),this.fetch=tm(n)}listBuckets(){return on(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}getBucket(t){return on(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return on(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return on(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}emptyBucket(t){return on(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}deleteBucket(t){return on(this,void 0,void 0,function*(){try{return{data:yield rm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}}class ox extends ix{constructor(t,r={},n){super(t,r,n)}from(t){return new rx(this.url,this.headers,t,this.fetch)}}const ax="2.51.0";let us="";typeof Deno<"u"?us="deno":typeof document<"u"?us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?us="react-native":us="node";const lx={"X-Client-Info":`supabase-js-${us}/${ax}`},ux={headers:lx},cx={schema:"public"},dx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fx={};var hx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const px=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mp:t=fetch,(...r)=>t(...r)},mx=()=>typeof Headers>"u"?zp:Headers,gx=(e,t,r)=>{const n=px(r),s=mx();return(i,o)=>hx(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var yx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function vx(e){return e.endsWith("/")?e:e+"/"}function wx(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yx(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const nm="2.71.0",fn=30*1e3,Al=3,ba=Al*fn,xx="http://localhost:9999",_x="supabase.auth.token",Sx={"X-Client-Info":`gotrue-js/${nm}`},Il="X-Supabase-Api-Version",sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bx=10*60*1e3;class Vu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ex extends Vu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jx(e){return q(e)&&e.name==="AuthApiError"}class im extends Vu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Or extends Vu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class tr extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cx(e){return q(e)&&e.name==="AuthSessionMissingError"}class _i extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Si extends Or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ki extends Or{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Px(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Od extends Or{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ll extends Or{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ea(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Rd extends Or{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $l extends Or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ad=` 	
\r=`.split(""),Nx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ad.length;t+=1)e[Ad[t].charCodeAt(0)]=-2;for(let t=0;t<ho.length;t+=1)e[ho[t].charCodeAt(0)]=t;return e})();function Id(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ho[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ho[n]),t.queuedBits-=6}}function om(e,t,r){const n=Nx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ld(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Rx(o,n,r)};for(let o=0;o<e.length;o+=1)om(e.charCodeAt(o),s,i);return t.join("")}function Tx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ox(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Tx(n,t)}}function Rx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ax(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)om(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ix(e){const t=[];return Ox(e,r=>t.push(r)),new Uint8Array(t)}function Lx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Id(s,r,n)),Id(null,r,n),t.join("")}function $x(e){return Math.round(Date.now()/1e3)+e}function Dx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gt=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},am=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function Ux(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const lm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Hn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(e,t)=>{await e.removeItem(t)};class Vo{constructor(){this.promise=new Vo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vo.promiseConstructor=Promise;function ja(e){const t=e.split(".");if(t.length!==3)throw new $l("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kx.test(t[n]))throw new $l("JWT not in base64url format");return{header:JSON.parse(Ld(t[0])),payload:JSON.parse(Ld(t[1])),signature:Ax(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Bx(e){return("0"+e.toString(16)).substr(-2)}function Vx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Bx).join("")}async function Wx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Wx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(e,t,r=!1){const n=Vx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hn(e,`${t}-code-verifier`,s);const i=await qx(n);return[i,n===i?"plain":"s256"]}const Hx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kx(e){const t=e.headers.get(Il);if(!t||!t.match(Hx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Jx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(e){if(!Qx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ca(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Xx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yx=[502,503,504];async function $d(e){var t;if(!Fx(e))throw new Ll(Ur(e),0);if(Yx.includes(e.status))throw new Ll(Ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new im(Ur(i),i)}let n;const s=Kx(e);if(s&&s.getTime()>=sm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rd(Ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Rd(Ur(r),e.status,r.weak_password.reasons);throw new Ex(Ur(r),e.status||500,n)}const Zx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function H(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Il]||(i[Il]=sm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await e_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function e_(e,t,r,n,s,i){const o=Zx(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ll(Ur(l),0)}if(a.ok||await $d(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $d(l)}}function Dt(e){var t;let r=null;s_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$x(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dd(e){const t=Dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t_(e){return{data:e,error:null}}function r_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Xx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function n_(e){return e}function s_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pa=["global","local","others"];var i_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class o_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Pa[0]){if(Pa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pa.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:lr})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=i_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:r_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:lr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:n_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ln(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:lr})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ln(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:lr})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ln(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:lr})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ln(t.userId);try{const{data:r,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ln(t.userId),ln(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}function Ud(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function a_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const un={debug:!!(globalThis&&am()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class um extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l_ extends um{}async function u_(e,t,r){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}a_();const c_={url:xx,storageKey:_x,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fd(e,t,r){return await r()}const cn={};class Vs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},c_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lm(s.fetch),this.lock=s.lock||Fd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:gt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=u_:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:am()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=cn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=cn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ux(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),gt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Px(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new im("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await an(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:Dt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dt})}else throw new Si("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dd})}else throw new Si("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _i}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,f,h,v;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:b,wallet:m,statement:p,options:g}=t;let w;if(gt())if(typeof m=="object")w=m;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))w=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const P=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let j;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")j=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)j=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const P=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:b,error:m}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Lx(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Dt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new _i}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Dt});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _i}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _i}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await an(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Si("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await an(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:t_})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new tr;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Si("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ba:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Lr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ca()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:lr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tr}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:lr})})}catch(r){if(q(r))return Cx(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new tr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await an(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:lr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ja(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new tr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!gt())throw new ki("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ki(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Od("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ki("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Od("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ki("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const v=h-d;v*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(jx(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Dx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await an(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return gt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zx(async s=>(s>0&&await Mx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ea(i)&&Date.now()+o-n<fn})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Lr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await hn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ca()}else if(s&&!s.user&&!s.user){const o=await Lr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,s)):s.user=Ca()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ba;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ba}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ea(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new tr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={session:null,error:i};return Ea(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=structuredClone(s);await hn(this.storage,this.storageKey,i)}else{const s=structuredClone(r);await hn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fn}ms, refresh threshold is ${Al} ticks`),s<=Al&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof um)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await an(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ja(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+bx>s)return n;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ja(n);r!=null&&r.allowExpired||Gx(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Jx(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Ix(`${a}.${l}`)))throw new $l("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}Vs.nextInstanceID=0;const d_=Vs;class f_ extends d_{constructor(t){super(t)}}var h_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class p_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=vx(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:cx,realtime:fx,auth:Object.assign(Object.assign({},dx),{storageKey:u}),global:ux},f=wx(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=gx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Rw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new lw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ox(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return h_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f_({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Kw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m_=(e,t,r)=>new p_(e,t,r),g_="https://kzqefwxgyzzmynjtcuai.supabase.co",y_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6cWVmd3hneXp6bXluanRjdWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MDk5NzQsImV4cCI6MjA2ODA4NTk3NH0.d0GPudN1JqR9Pn-HKLkCzlv6QbfloZQbPz29-0DDp00",Ne=m_(g_,y_),v_=async(e,t,r={})=>{const{data:n,error:s}=await Ne.auth.signUp({email:e,password:t,options:{data:r}});return{data:n,error:s}},Md=async(e,t)=>{const{data:r,error:n}=await Ne.auth.signInWithPassword({email:e,password:t});return{data:r,error:n}},cm=async()=>{const{error:e}=await Ne.auth.signOut();return{error:e}},w_=async e=>{const{data:t,error:r}=await Ne.auth.updateUser({data:e});return{data:t,error:r}},x_=async e=>{const{data:t,error:r}=await Ne.auth.updateUser({password:e});return{data:t,error:r}},__=async()=>{const{data:{user:e}}=await Ne.auth.getUser();if(!e)return{error:{message:"No user found"}};try{const t=await fetch("/.netlify/functions/delete-user-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to delete account");return{error:null}}catch(t){return console.error("Account deletion error:",t),{error:t}}},S_=async e=>{const{data:t,error:r}=await Ne.from("businesses").insert([e]).select();return{data:t,error:r}},dm=async e=>{const{data:t,error:r}=await Ne.from("businesses").select("*").eq("user_id",e).single();return{data:t,error:r}},zd=async e=>{const{data:t,error:r}=await Ne.from("reviews").insert([e]).select();return{data:t,error:r}},Bd=async(e=null)=>{let t=Ne.from("reviews").select(`
      *,
      businesses (
        name,
        industry
      )
    `).order("created_at",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;return{data:r,error:n}},Vd=async e=>{const{error:t}=await Ne.from("reviews").delete().eq("id",e);return{error:t}},k_=async e=>{const{data:t,error:r}=await Ne.from("widgets").insert([e]).select();return{data:t,error:r}},b_=async e=>{const{data:t,error:r}=await Ne.from("widgets").select("*").eq("business_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},E_=async(e,t="30d")=>{const{data:r,error:n}=await Ne.from("analytics").select("*").eq("business_id",e).gte("date",j_(t)).order("date",{ascending:!1});return{data:r,error:n}};function j_(e){const t=new Date;switch(e){case"7d":return new Date(t.getTime()-7*24*60*60*1e3).toISOString();case"30d":return new Date(t.getTime()-30*24*60*60*1e3).toISOString();case"90d":return new Date(t.getTime()-90*24*60*60*1e3).toISOString();default:return new Date(t.getTime()-30*24*60*60*1e3).toISOString()}}const Dl=async e=>{const{data:t,error:r}=await Ne.from("subscriptions").select("*").eq("user_id",e).single();return{data:t,error:r}},C_=async e=>{const{data:t,error:r}=await Ne.from("subscriptions").select("paypal_subscription_id").eq("user_id",e).single();return{data:t,error:r}},fm=S.createContext(),Rr=()=>S.useContext(fm),P_=({children:e})=>{const[t,r]=S.useState(null),[n,s]=S.useState(!0);S.useEffect(()=>{Ne.auth.getSession().then(({data:{session:a}})=>{r((a==null?void 0:a.user)??null),s(!1)});const{data:{subscription:o}}=Ne.auth.onAuthStateChange((a,l)=>{r((l==null?void 0:l.user)??null),s(!1)});return()=>o.unsubscribe()},[]);const i={user:t,loading:n};return c.jsx(fm.Provider,{value:i,children:!n&&e})},z=({children:e,onClick:t,variant:r="primary",size:n="md",disabled:s=!1,className:i="",type:o="button"})=>{const a="font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=s?"opacity-50 cursor-not-allowed":"";return c.jsx("button",{type:o,onClick:t,disabled:s,className:`${a} ${l[r]} ${u[n]} ${d} ${i}`,children:e})},N_=()=>{const{user:e}=Rr(),t=qn(),r=async()=>{await cm()},n=s=>t.pathname===s;return c.jsx("nav",{className:"bg-white shadow-lg",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between items-center py-4",children:[c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsx(Ke,{to:"/",className:"text-2xl font-bold text-blue-600",children:"Smart Review"}),e&&c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(Ke,{to:"/dashboard",className:`px-3 py-2 rounded-md text-sm font-medium ${n("/dashboard")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Dashboard"}),c.jsx(Ke,{to:"/reviews",className:`px-3 py-2 rounded-md text-sm font-medium ${n("/reviews")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Reviews"}),c.jsx(Ke,{to:"/profile",className:`px-3 py-2 rounded-md text-sm font-medium ${n("/profile")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Profile"}),c.jsx(Ke,{to:"/billing",className:`px-3 py-2 rounded-md text-sm font-medium ${n("/billing")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Billing"})]})]}),c.jsx("div",{className:"flex items-center space-x-4",children:e?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-gray-700",children:["Welcome, ",e.email]}),c.jsx(z,{onClick:r,variant:"secondary",children:"Sign Out"})]}):c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ke,{to:"/login",children:c.jsx(z,{variant:"secondary",children:"Login"})}),c.jsx(Ke,{to:"/signup",children:c.jsx(z,{children:"Sign Up"})})]})})]})})})};var T_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fe=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},u)=>S.createElement("svg",{ref:u,...T_,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${O_(e)}`,...l},[...t.map(([d,f])=>S.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r},R_=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),A_=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Wd=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),I_=fe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),qd=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),L_=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),$_=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Hd=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ul=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D_=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),U_=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),F_=fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),hm=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Fl=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),M_=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),po=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),pm=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),z_=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kd=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),B_=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),V_=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mm=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),W_=()=>{const{user:e}=Rr(),t=[{icon:U_,title:"Smart Reviews",description:"Intelligent review management with automated insights and analytics."},{icon:z_,title:"Real-time Analytics",description:"Track performance metrics and customer satisfaction in real-time."},{icon:M_,title:"Secure & Reliable",description:"Built with security first using Supabase backend infrastructure."},{icon:mm,title:"Lightning Fast",description:"Optimized for speed with modern React and efficient data loading."},{icon:B_,title:"Team Collaboration",description:"Work together with your team to manage and respond to reviews."},{icon:po,title:"Rating System",description:"Comprehensive rating system with detailed feedback collection."}];return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-8",children:["Smart Review",c.jsx("span",{className:"block text-blue-200",children:"Management Platform"})]}),c.jsx("p",{className:"text-xl md:text-2xl mb-12 max-w-3xl mx-auto",children:"Streamline your review process, gain actionable insights, and boost customer satisfaction with our intelligent SaaS platform."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?c.jsx(Ke,{to:"/dashboard",children:c.jsx(z,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",children:"Go to Dashboard"})}):c.jsxs(c.Fragment,{children:[c.jsx(Ke,{to:"/signup",children:c.jsx(z,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",children:"Get Started Free"})}),c.jsx(Ke,{to:"/login",children:c.jsx(z,{size:"lg",variant:"secondary",className:"border-white text-white hover:bg-white hover:text-blue-600",children:"Sign In"})})]})})]})})}),c.jsx("div",{className:"py-24",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need to manage reviews effectively and grow your business."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,n)=>c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:c.jsx(r.icon,{className:"w-6 h-6 text-blue-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r.title})]}),c.jsx("p",{className:"text-gray-600",children:r.description})]},n))})]})}),c.jsx("div",{className:"bg-blue-600 text-white py-16",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Transform Your Review Management?"}),c.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses already using Smart Review to improve their customer experience."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[!e&&c.jsxs(c.Fragment,{children:[c.jsx(Ke,{to:"/signup",children:c.jsx(z,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",children:"Start Free Trial"})}),c.jsx(z,{size:"lg",variant:"secondary",className:"border-white text-white hover:bg-white hover:text-blue-600",children:"Schedule Demo"})]}),e&&c.jsx(Ke,{to:"/reviews",children:c.jsx(z,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",children:"Manage Reviews"})})]})]})}),c.jsx("footer",{className:"bg-gray-800 text-white py-8",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{className:"mb-4 md:mb-0",children:[c.jsx("h3",{className:"text-xl font-bold",children:"Smart Review"}),c.jsx("p",{className:"text-gray-400",children:"Powered by Supabase"})]}),c.jsxs("div",{className:"flex space-x-6",children:[c.jsx(z,{variant:"secondary",size:"sm",children:"Documentation"}),c.jsx(z,{variant:"secondary",size:"sm",children:"Support"}),c.jsx(z,{variant:"secondary",size:"sm",children:"Contact"})]})]})})})]})},q_=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(""),l=Qs(),u=async f=>{f.preventDefault(),i(!0),a("");const{error:h}=await Md(e,r);h?a(h.message):l("/dashboard"),i(!1)},d=async()=>{i(!0),a("");const{error:f}=await Md("demo@example.com","demo123456");f?a("Demo login failed. Please create an account."):l("/dashboard"),i(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",c.jsx(Ke,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[o&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsx("div",{children:c.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:f=>t(f.target.value)})}),c.jsx("div",{children:c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:f=>n(f.target.value)})})]}),c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx(z,{type:"submit",disabled:s,className:"w-full",children:s?"Signing in...":"Sign in"}),c.jsx(z,{type:"button",variant:"secondary",onClick:d,disabled:s,className:"w-full",children:"Try Demo Login"})]})]})]})})},H_=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(!1),[l,u]=S.useState(""),[d,f]=S.useState(""),h=Qs(),v=async x=>{if(x.preventDefault(),a(!0),u(""),f(""),r!==s){u("Passwords do not match"),a(!1);return}const{error:_}=await v_(e,r);_?u(_.message):(f("Account created successfully! Please check your email for verification."),setTimeout(()=>h("/login"),2e3)),a(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",c.jsx(Ke,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[l&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsx("div",{children:c.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:x=>t(x.target.value)})}),c.jsx("div",{children:c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:x=>n(x.target.value)})}),c.jsx("div",{children:c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:x=>i(x.target.value)})})]}),c.jsx("div",{children:c.jsx(z,{type:"submit",disabled:o,className:"w-full",children:o?"Creating account...":"Create Account"})})]})]})})},K_=()=>{const{user:e}=Rr(),[t,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(!1),[a,l]=S.useState(!1),[u,d]=S.useState(null),[f,h]=S.useState({title:"How was your experience?",subtitle:"We'd love to hear your feedback!",theme:"light",position:"bottom-right",showAfter:5e3,buttonText:"Leave a Review",colors:{primary:"#007cba",secondary:"#f8f9fa",text:"#333333"}}),[v,x]=S.useState({totalViews:0,totalClicks:0,conversionRate:0,averageRating:0});S.useEffect(()=>{_(),m()},[]);const _=async()=>{try{let j=await b();if(!j)return;const{data:T,error:D}=await b_(j.id);if(D)throw D;r(T||[])}catch(j){console.error("Error fetching widgets:",j),r([])}},b=async()=>{var j;try{const{data:T,error:D}=await dm(e.id);if(T&&!D)return T;const{data:U,error:Q}=await S_({user_id:e.id,name:`${((j=e.email)==null?void 0:j.split("@")[0])||"My"} Business`,email:e.email,industry:"General",created_at:new Date().toISOString()});if(Q)throw console.error("Error creating business:",Q),new Error("Failed to create business: "+Q.message);return U}catch(T){throw console.error("Error ensuring business:",T),T}},m=async()=>{try{const{data:j,error:T}=await E_(e.id);if(T)throw T;const D=(j==null?void 0:j.reduce((B,V)=>B+(V.views||0),0))||0,U=(j==null?void 0:j.reduce((B,V)=>B+(V.clicks||0),0))||0,Q=D>0?(U/D*100).toFixed(1):0;x({totalViews:D,totalClicks:U,conversionRate:Q,averageRating:4.8})}catch(j){console.error("Error fetching analytics:",j)}s(!1)},p=j=>{const T=(j==null?void 0:j.id)||"demo-widget";return`<!-- Smart Review Widget - Add this code before the closing </body> tag -->
<div data-smart-review-widget 
     data-business-id="${e.id}" 
     data-widget-id="${T}"
     data-theme="${f.theme}"
     data-position="${f.position}"
     data-show-after="${f.showAfter}">
</div>
<script src="${window.location.origin}/widget.js" async><\/script>
<!-- End Smart Review Widget -->`},g=j=>` INSTALLATION INSTRUCTIONS:

1. Copy the code snippet below
2. Open your website's HTML file (usually index.html)
3. Paste the code just before the closing </body> tag
4. Save and refresh your website

 The widget will automatically appear on your site!

 TIPS:
- The widget will show after ${f.showAfter/1e3} seconds
- It will appear in the ${f.position} corner
- Customize colors and text in the dashboard

 TROUBLESHOOTING:
- Make sure the script loads (check browser console)
- Verify your domain is added to CORS settings
- Test on different pages of your website`,w=async()=>{try{let j=await b();if(!j)return;const{data:T,error:D}=await k_({business_id:j.id,name:`Widget ${t.length+1}`,config:f,is_active:!0});if(console.log("Widget creation result:",{data:T,error:D}),D)throw D;if(!T)throw new Error("Widget creation returned no data");await _(),o(!1),G.success("Widget created successfully!")}catch(j){G.error("Error creating widget: "+j.message)}},E=j=>{try{navigator.clipboard.writeText(j).then(()=>{G.success("Code copied to clipboard!")}).catch(T=>{console.error("Clipboard write failed:",T);const D=document.createElement("textarea");D.value=j,D.style.position="fixed",document.body.appendChild(D),D.focus(),D.select();try{document.execCommand("copy")?G.success("Code copied to clipboard!"):G.error("Failed to copy code")}catch(U){console.error("execCommand error:",U),G.error("Failed to copy code")}document.body.removeChild(D)})}catch(T){console.error("Copy to clipboard error:",T),G.error("Failed to copy code")}},P=({icon:j,title:T,value:D,color:U})=>c.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`p-3 rounded-full ${U} mr-4`,children:c.jsx(j,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:T}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D})]})]})});return n?c.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",e==null?void 0:e.email]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(P,{icon:Ul,title:"Total Views",value:v.totalViews,color:"bg-blue-500"}),c.jsx(P,{icon:mm,title:"Total Clicks",value:v.totalClicks,color:"bg-green-500"}),c.jsx(P,{icon:A_,title:"Conversion Rate",value:`${v.conversionRate}%`,color:"bg-yellow-500"}),c.jsx(P,{icon:po,title:"Average Rating",value:v.averageRating,color:"bg-purple-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Widget Builder"}),c.jsxs(z,{onClick:()=>o(!0),className:"flex items-center",children:[c.jsx(hm,{className:"w-5 h-5 mr-2"}),"Create Widget"]})]}),c.jsxs("div",{className:"space-y-4",children:[t.map((j,T)=>c.jsx("div",{className:"border-b pb-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium",children:j.name||"Unnamed Widget"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ID: ",j.id||"demo-widget"]}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Created: ",new Date(j.created_at||Date.now()).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(z,{size:"sm",onClick:()=>{d(j),l(!0)},className:"flex items-center",children:[c.jsx(qd,{className:"w-4 h-4 mr-1"}),"Get Code"]}),c.jsx(z,{size:"sm",variant:"secondary",children:c.jsx(Fl,{className:"w-4 h-4"})})]})]})},T)),t.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(I_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"No widgets created yet"}),c.jsx(z,{onClick:()=>o(!0),variant:"secondary",children:"Create Your First Widget"})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Widget Preview"}),c.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:c.jsxs("div",{className:"max-w-sm mx-auto p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:f.title}),c.jsx("p",{className:"text-gray-600 mb-4",children:f.subtitle}),c.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(j=>c.jsx(po,{className:"w-6 h-6 text-gray-300"},j))}),c.jsx(z,{size:"sm",className:"w-full",children:f.buttonText})]})}),c.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[c.jsxs("p",{children:["Theme: ",f.theme]}),c.jsxs("p",{children:["Position: ",f.position]})]})]})]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Widget"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Widget Title"}),c.jsx("input",{type:"text",value:f.title,onChange:j=>h({...f,title:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),c.jsx("textarea",{value:f.subtitle,onChange:j=>h({...f,subtitle:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),c.jsxs("select",{value:f.theme,onChange:j=>h({...f,theme:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),c.jsxs("select",{value:f.position,onChange:j=>h({...f,position:j.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"bottom-right",children:"Bottom Right"}),c.jsx("option",{value:"bottom-left",children:"Bottom Left"}),c.jsx("option",{value:"top-right",children:"Top Right"}),c.jsx("option",{value:"top-left",children:"Top Left"})]})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(z,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),c.jsx(z,{onClick:w,children:"Create Widget"})]})]})}),a&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-3xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Install Widget"}),c.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4",children:g()}),c.jsxs("div",{className:"border border-gray-300 bg-gray-50 rounded-md p-4 mb-4 relative",children:[c.jsx("pre",{className:"text-sm overflow-x-auto whitespace-pre-wrap",children:p(u)}),c.jsx("button",{onClick:()=>E(p(u)),className:"absolute top-2 right-2 bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition-colors","aria-label":"Copy to clipboard",id:"copy-widget-code-btn",children:c.jsx(qd,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(z,{onClick:()=>l(!1),children:"Close"})})]})})]})},G_=()=>{const{user:e}=Rr(),[t,r]=S.useState([]),[n,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(!1),[u,d]=S.useState({title:"",content:"",rating:5});S.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:m,error:p}=await dm(e.id);if(m){s(m);const{data:g,error:w}=await Bd(m.id);g&&r(g)}else console.error("No business found for user:",p),r([]);o(!1)},h=async()=>{if(n){const{data:m,error:p}=await Bd(n.id);m&&r(m)}},v=async m=>{if(m.preventDefault(),!n){alert("No business found. Please set up your business first.");return}const p={...u,user_id:e.id,business_id:n.id,status:"published"},{data:g,error:w}=await zd(p);g&&(await h(),l(!1),d({title:"",content:"",rating:5}))},x=async m=>{if(window.confirm("Are you sure you want to delete this review?")){const{error:p}=await Vd(m);p||await h()}},_=async()=>{if(window.confirm("Are you sure you want to delete ALL reviews? This cannot be undone.")){for(const m of t)await Vd(m.id);await h()}},b=async()=>{if(!n){alert("No business found. Please set up your business first.");return}const m=[{title:"Great Product!",content:"Really impressed with the quality and service.",rating:5},{title:"Good Value",content:"Decent product for the price point.",rating:4},{title:"Could be better",content:"Has some issues but overall okay.",rating:3},{title:"Excellent Service",content:"Outstanding customer support and fast delivery.",rating:5},{title:"Average Experience",content:"Nothing special but gets the job done.",rating:3}];for(const p of m){const g={...p,user_id:e.id,business_id:n.id,status:"published"};await zd(g)}await h()};return i?c.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reviews Management"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs(z,{onClick:()=>l(!0),className:"flex items-center",children:[c.jsx(hm,{className:"w-4 h-4 mr-2"}),"Add Review"]}),c.jsx(z,{onClick:b,variant:"secondary",children:"Generate Sample Reviews"}),t.length>0&&c.jsx(z,{onClick:_,variant:"danger",children:"Delete All"})]})]}),a&&c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Review"}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),c.jsx("input",{type:"text",value:u.title,onChange:m=>d({...u,title:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),c.jsx("textarea",{value:u.content,onChange:m=>d({...u,content:m.target.value}),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),c.jsxs("select",{value:u.rating,onChange:m=>d({...u,rating:parseInt(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:5,children:"5 Stars"}),c.jsx("option",{value:4,children:"4 Stars"}),c.jsx("option",{value:3,children:"3 Stars"}),c.jsx("option",{value:2,children:"2 Stars"}),c.jsx("option",{value:1,children:"1 Star"})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(z,{type:"submit",children:"Save Review"}),c.jsx(z,{type:"button",variant:"secondary",onClick:()=>l(!1),children:"Cancel"})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md",children:n?t.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:"No reviews yet for your business."}),c.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Reviews will appear here when customers use your embedded widgets."}),c.jsx(z,{onClick:()=>l(!0),children:"Add Sample Review"})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:t.map(m=>c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mr-4",children:m.title}),c.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((p,g)=>c.jsx(po,{className:`w-4 h-4 ${g<m.rating?"text-yellow-400 fill-current":"text-gray-300"}`},g)),c.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[m.rating,"/5"]})]})]}),c.jsx("p",{className:"text-gray-600 mb-2",children:m.content}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Created: ",new Date(m.created_at).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsx(z,{size:"sm",variant:"secondary",onClick:()=>alert("Edit functionality would be implemented here"),children:c.jsx(F_,{className:"w-4 h-4"})}),c.jsx(z,{size:"sm",variant:"danger",onClick:()=>x(m.id),children:c.jsx(pm,{className:"w-4 h-4"})})]})]})},m.id))}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-500 mb-4",children:"No business found. Please set up your business first."})})})]})};var ti=e=>e.type==="checkbox",Wr=e=>e instanceof Date,Me=e=>e==null;const gm=e=>typeof e=="object";var me=e=>!Me(e)&&!Array.isArray(e)&&gm(e)&&!Wr(e),J_=e=>me(e)&&e.target?ti(e.target)?e.target.checked:e.target.value:e,Q_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,X_=(e,t)=>e.has(Q_(t)),Y_=e=>{const t=e.constructor&&e.constructor.prototype;return me(t)&&t.hasOwnProperty("isPrototypeOf")},Wu=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function be(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Wu&&(e instanceof Blob||n))&&(r||me(e)))if(t=r?[]:{},!r&&!Y_(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=be(e[s]));else return e;return t}var Wo=e=>/^\w*$/.test(e),we=e=>e===void 0,qu=e=>Array.isArray(e)?e.filter(Boolean):[],Hu=e=>qu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$=(e,t,r)=>{if(!t||!me(e))return r;const n=(Wo(t)?[t]:Hu(t)).reduce((s,i)=>Me(s)?s:s[i],e);return we(n)||n===e?we(e[t])?r:e[t]:n},Pt=e=>typeof e=="boolean",oe=(e,t,r)=>{let n=-1;const s=Wo(t)?[t]:Hu(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const u=e[a];l=me(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const Gd={BLUR:"blur",FOCUS_OUT:"focusout"},_t={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$t={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Z_=je.createContext(null);Z_.displayName="HookFormContext";var e1=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==_t.all&&(t._proxyFormState[o]=!n||_t.all),e[o]}});return s};const t1=typeof window<"u"?S.useLayoutEffect:S.useEffect;var Tt=e=>typeof e=="string",r1=(e,t,r,n,s)=>Tt(e)?(n&&t.watch.add(e),$(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),$(r,i))):(n&&(t.watchAll=!0),r),n1=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ss=e=>Array.isArray(e)?e:[e],Jd=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ml=e=>Me(e)||!gm(e);function ur(e,t,r=new WeakSet){if(Ml(e)||Ml(t))return e===t;if(Wr(e)&&Wr(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Wr(o)&&Wr(a)||me(o)&&me(a)||Array.isArray(o)&&Array.isArray(a)?!ur(o,a,r):o!==a)return!1}}return!0}var He=e=>me(e)&&!Object.keys(e).length,Ku=e=>e.type==="file",St=e=>typeof e=="function",mo=e=>{if(!Wu)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ym=e=>e.type==="select-multiple",Gu=e=>e.type==="radio",s1=e=>Gu(e)||ti(e),Na=e=>mo(e)&&e.isConnected;function i1(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=we(e)?n++:e[t[n++]];return e}function o1(e){for(const t in e)if(e.hasOwnProperty(t)&&!we(e[t]))return!1;return!0}function ye(e,t){const r=Array.isArray(t)?t:Wo(t)?[t]:Hu(t),n=r.length===1?e:i1(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(me(n)&&He(n)||Array.isArray(n)&&o1(n))&&ye(e,r.slice(0,-1)),e}var vm=e=>{for(const t in e)if(St(e[t]))return!0;return!1};function go(e,t={}){const r=Array.isArray(e);if(me(e)||r)for(const n in e)Array.isArray(e[n])||me(e[n])&&!vm(e[n])?(t[n]=Array.isArray(e[n])?[]:{},go(e[n],t[n])):Me(e[n])||(t[n]=!0);return t}function wm(e,t,r){const n=Array.isArray(e);if(me(e)||n)for(const s in e)Array.isArray(e[s])||me(e[s])&&!vm(e[s])?we(t)||Ml(r[s])?r[s]=Array.isArray(e[s])?go(e[s],[]):{...go(e[s])}:wm(e[s],Me(t)?{}:t[s],r[s]):r[s]=!ur(e[s],t[s]);return r}var ns=(e,t)=>wm(e,t,go(t));const Qd={value:!1,isValid:!1},Xd={value:!0,isValid:!0};var xm=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!we(e[0].attributes.value)?we(e[0].value)||e[0].value===""?Xd:{value:e[0].value,isValid:!0}:Xd:Qd}return Qd},_m=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>we(e)?e:t?e===""?NaN:e&&+e:r&&Tt(e)?new Date(e):n?n(e):e;const Yd={isValid:!1,value:null};var Sm=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Yd):Yd;function Zd(e){const t=e.ref;return Ku(t)?t.files:Gu(t)?Sm(e.refs).value:ym(t)?[...t.selectedOptions].map(({value:r})=>r):ti(t)?xm(e.refs).value:_m(we(t.value)?e.ref.value:t.value,e)}var a1=(e,t,r,n)=>{const s={};for(const i of e){const o=$(t,i);o&&oe(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},yo=e=>e instanceof RegExp,ss=e=>we(e)?e:yo(e)?e.source:me(e)?yo(e.value)?e.value.source:e.value:e,ef=e=>({isOnSubmit:!e||e===_t.onSubmit,isOnBlur:e===_t.onBlur,isOnChange:e===_t.onChange,isOnAll:e===_t.all,isOnTouch:e===_t.onTouched});const tf="AsyncFunction";var l1=e=>!!e&&!!e.validate&&!!(St(e.validate)&&e.validate.constructor.name===tf||me(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===tf)),u1=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rf=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ks=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=$(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ks(a,t))break}else if(me(a)&&ks(a,t))break}}};function nf(e,t,r){const n=$(e,r);if(n||Wo(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=$(t,i),a=$(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:r}}var c1=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return He(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||_t.all))},d1=(e,t,r)=>!e||!t||e===t||Ss(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),f1=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,h1=(e,t)=>!qu($(e,t)).length&&ye(e,t),p1=(e,t,r)=>{const n=Ss($(e,r));return oe(n,"root",t[r]),oe(e,r,n),e},Ui=e=>Tt(e);function sf(e,t,r="validate"){if(Ui(e)||Array.isArray(e)&&e.every(Ui)||Pt(e)&&!e)return{type:r,message:Ui(e)?e:"",ref:t}}var dn=e=>me(e)&&!yo(e)?e:{value:e,message:""},of=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:v,validate:x,name:_,valueAsNumber:b,mount:m}=e._f,p=$(r,_);if(!m||t.has(_))return{};const g=a?a[0]:o,w=B=>{s&&g.reportValidity&&(g.setCustomValidity(Pt(B)?"":B||""),g.reportValidity())},E={},P=Gu(o),j=ti(o),T=P||j,D=(b||Ku(o))&&we(o.value)&&we(p)||mo(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,U=n1.bind(null,_,n,E),Q=(B,V,Z,Te=$t.maxLength,ke=$t.minLength)=>{const We=B?V:Z;E[_]={type:B?Te:ke,message:We,ref:o,...U(B?Te:ke,We)}};if(i?!Array.isArray(p)||!p.length:l&&(!T&&(D||Me(p))||Pt(p)&&!p||j&&!xm(a).isValid||P&&!Sm(a).isValid)){const{value:B,message:V}=Ui(l)?{value:!!l,message:l}:dn(l);if(B&&(E[_]={type:$t.required,message:V,ref:g,...U($t.required,V)},!n))return w(V),E}if(!D&&(!Me(f)||!Me(h))){let B,V;const Z=dn(h),Te=dn(f);if(!Me(p)&&!isNaN(p)){const ke=o.valueAsNumber||p&&+p;Me(Z.value)||(B=ke>Z.value),Me(Te.value)||(V=ke<Te.value)}else{const ke=o.valueAsDate||new Date(p),We=W=>new Date(new Date().toDateString()+" "+W),A=o.type=="time",M=o.type=="week";Tt(Z.value)&&p&&(B=A?We(p)>We(Z.value):M?p>Z.value:ke>new Date(Z.value)),Tt(Te.value)&&p&&(V=A?We(p)<We(Te.value):M?p<Te.value:ke<new Date(Te.value))}if((B||V)&&(Q(!!B,Z.message,Te.message,$t.max,$t.min),!n))return w(E[_].message),E}if((u||d)&&!D&&(Tt(p)||i&&Array.isArray(p))){const B=dn(u),V=dn(d),Z=!Me(B.value)&&p.length>+B.value,Te=!Me(V.value)&&p.length<+V.value;if((Z||Te)&&(Q(Z,B.message,V.message),!n))return w(E[_].message),E}if(v&&!D&&Tt(p)){const{value:B,message:V}=dn(v);if(yo(B)&&!p.match(B)&&(E[_]={type:$t.pattern,message:V,ref:o,...U($t.pattern,V)},!n))return w(V),E}if(x){if(St(x)){const B=await x(p,r),V=sf(B,g);if(V&&(E[_]={...V,...U($t.validate,V.message)},!n))return w(V.message),E}else if(me(x)){let B={};for(const V in x){if(!He(B)&&!n)break;const Z=sf(await x[V](p,r),g,V);Z&&(B={...Z,...U(V,Z.message)},w(Z.message),n&&(E[_]=B))}if(!He(B)&&(E[_]={ref:g,...B},!n))return E}}return w(!0),E};const m1={mode:_t.onSubmit,reValidateMode:_t.onChange,shouldFocusError:!0};function g1(e={}){let t={...m1,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:St(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=me(t.defaultValues)||me(t.values)?be(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:be(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Jd(),state:Jd()},v=t.criteriaMode===_t.all,x=y=>k=>{clearTimeout(u),u=setTimeout(y,k)},_=async y=>{if(!t.disabled&&(d.isValid||f.isValid||y)){const k=t.resolver?He((await j()).errors):await D(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},b=(y,k)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((y||Array.from(a.mount)).forEach(C=>{C&&(k?oe(r.validatingFields,C,k):ye(r.validatingFields,C))}),h.state.next({validatingFields:r.validatingFields,isValidating:!He(r.validatingFields)}))},m=(y,k=[],C,I,R=!0,O=!0)=>{if(I&&C&&!t.disabled){if(o.action=!0,O&&Array.isArray($(n,y))){const F=C($(n,y),I.argA,I.argB);R&&oe(n,y,F)}if(O&&Array.isArray($(r.errors,y))){const F=C($(r.errors,y),I.argA,I.argB);R&&oe(r.errors,y,F),h1(r.errors,y)}if((d.touchedFields||f.touchedFields)&&O&&Array.isArray($(r.touchedFields,y))){const F=C($(r.touchedFields,y),I.argA,I.argB);R&&oe(r.touchedFields,y,F)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ns(s,i)),h.state.next({name:y,isDirty:Q(y,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else oe(i,y,k)},p=(y,k)=>{oe(r.errors,y,k),h.state.next({errors:r.errors})},g=y=>{r.errors=y,h.state.next({errors:r.errors,isValid:!1})},w=(y,k,C,I)=>{const R=$(n,y);if(R){const O=$(i,y,we(C)?$(s,y):C);we(O)||I&&I.defaultChecked||k?oe(i,y,k?O:Zd(R._f)):Z(y,O),o.mount&&_()}},E=(y,k,C,I,R)=>{let O=!1,F=!1;const X={name:y};if(!t.disabled){if(!C||I){(d.isDirty||f.isDirty)&&(F=r.isDirty,r.isDirty=X.isDirty=Q(),O=F!==X.isDirty);const ee=ur($(s,y),k);F=!!$(r.dirtyFields,y),ee?ye(r.dirtyFields,y):oe(r.dirtyFields,y,!0),X.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||f.dirtyFields)&&F!==!ee}if(C){const ee=$(r.touchedFields,y);ee||(oe(r.touchedFields,y,C),X.touchedFields=r.touchedFields,O=O||(d.touchedFields||f.touchedFields)&&ee!==C)}O&&R&&h.state.next(X)}return O?X:{}},P=(y,k,C,I)=>{const R=$(r.errors,y),O=(d.isValid||f.isValid)&&Pt(k)&&r.isValid!==k;if(t.delayError&&C?(l=x(()=>p(y,C)),l(t.delayError)):(clearTimeout(u),l=null,C?oe(r.errors,y,C):ye(r.errors,y)),(C?!ur(R,C):R)||!He(I)||O){const F={...I,...O&&Pt(k)?{isValid:k}:{},errors:r.errors,name:y};r={...r,...F},h.state.next(F)}},j=async y=>{b(y,!0);const k=await t.resolver(i,t.context,a1(y||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(y),k},T=async y=>{const{errors:k}=await j(y);if(y)for(const C of y){const I=$(k,C);I?oe(r.errors,C,I):ye(r.errors,C)}else r.errors=k;return k},D=async(y,k,C={valid:!0})=>{for(const I in y){const R=y[I];if(R){const{_f:O,...F}=R;if(O){const X=a.array.has(O.name),ee=R._f&&l1(R._f);ee&&d.validatingFields&&b([I],!0);const at=await of(R,a.disabled,i,v,t.shouldUseNativeValidation&&!k,X);if(ee&&d.validatingFields&&b([I]),at[O.name]&&(C.valid=!1,k))break;!k&&($(at,O.name)?X?p1(r.errors,at,O.name):oe(r.errors,O.name,at[O.name]):ye(r.errors,O.name))}!He(F)&&await D(F,k,C)}}return C.valid},U=()=>{for(const y of a.unMount){const k=$(n,y);k&&(k._f.refs?k._f.refs.every(C=>!Na(C)):!Na(k._f.ref))&&Qt(y)}a.unMount=new Set},Q=(y,k)=>!t.disabled&&(y&&k&&oe(i,y,k),!ur(W(),s)),B=(y,k,C)=>r1(y,a,{...o.mount?i:we(k)?s:Tt(y)?{[y]:k}:k},C,k),V=y=>qu($(o.mount?i:s,y,t.shouldUnregister?$(s,y,[]):[])),Z=(y,k,C={})=>{const I=$(n,y);let R=k;if(I){const O=I._f;O&&(!O.disabled&&oe(i,y,_m(k,O)),R=mo(O.ref)&&Me(k)?"":k,ym(O.ref)?[...O.ref.options].forEach(F=>F.selected=R.includes(F.value)):O.refs?ti(O.ref)?O.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(R)?F.checked=!!R.find(X=>X===F.value):F.checked=R===F.value||!!R)}):O.refs.forEach(F=>F.checked=F.value===R):Ku(O.ref)?O.ref.value="":(O.ref.value=R,O.ref.type||h.state.next({name:y,values:be(i)})))}(C.shouldDirty||C.shouldTouch)&&E(y,R,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&M(y)},Te=(y,k,C)=>{for(const I in k){if(!k.hasOwnProperty(I))return;const R=k[I],O=y+"."+I,F=$(n,O);(a.array.has(y)||me(R)||F&&!F._f)&&!Wr(R)?Te(O,R,C):Z(O,R,C)}},ke=(y,k,C={})=>{const I=$(n,y),R=a.array.has(y),O=be(k);oe(i,y,O),R?(h.array.next({name:y,values:be(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&C.shouldDirty&&h.state.next({name:y,dirtyFields:ns(s,i),isDirty:Q(y,O)})):I&&!I._f&&!Me(O)?Te(y,O,C):Z(y,O,C),rf(y,a)&&h.state.next({...r}),h.state.next({name:o.mount?y:void 0,values:be(i)})},We=async y=>{o.mount=!0;const k=y.target;let C=k.name,I=!0;const R=$(n,C),O=ee=>{I=Number.isNaN(ee)||Wr(ee)&&isNaN(ee.getTime())||ur(ee,$(i,C,ee))},F=ef(t.mode),X=ef(t.reValidateMode);if(R){let ee,at;const ri=k.type?Zd(R._f):J_(y),Xt=y.type===Gd.BLUR||y.type===Gd.FOCUS_OUT,Am=!u1(R._f)&&!t.resolver&&!$(r.errors,C)&&!R._f.deps||f1(Xt,$(r.touchedFields,C),r.isSubmitted,X,F),Ko=rf(C,a,Xt);oe(i,C,ri),Xt?(R._f.onBlur&&R._f.onBlur(y),l&&l(0)):R._f.onChange&&R._f.onChange(y);const Go=E(C,ri,Xt),Im=!He(Go)||Ko;if(!Xt&&h.state.next({name:C,type:y.type,values:be(i)}),Am)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Xt&&_():Xt||_()),Im&&h.state.next({name:C,...Ko?{}:Go});if(!Xt&&Ko&&h.state.next({...r}),t.resolver){const{errors:rc}=await j([C]);if(O(ri),I){const Lm=nf(r.errors,n,C),nc=nf(rc,n,Lm.name||C);ee=nc.error,C=nc.name,at=He(rc)}}else b([C],!0),ee=(await of(R,a.disabled,i,v,t.shouldUseNativeValidation))[C],b([C]),O(ri),I&&(ee?at=!1:(d.isValid||f.isValid)&&(at=await D(n,!0)));I&&(R._f.deps&&M(R._f.deps),P(C,at,ee,Go))}},A=(y,k)=>{if($(r.errors,k)&&y.focus)return y.focus(),1},M=async(y,k={})=>{let C,I;const R=Ss(y);if(t.resolver){const O=await T(we(y)?y:R);C=He(O),I=y?!R.some(F=>$(O,F)):C}else y?(I=(await Promise.all(R.map(async O=>{const F=$(n,O);return await D(F&&F._f?{[O]:F}:F)}))).every(Boolean),!(!I&&!r.isValid)&&_()):I=C=await D(n);return h.state.next({...!Tt(y)||(d.isValid||f.isValid)&&C!==r.isValid?{}:{name:y},...t.resolver||!y?{isValid:C}:{},errors:r.errors}),k.shouldFocus&&!I&&ks(n,A,y?R:a.mount),I},W=y=>{const k={...o.mount?i:s};return we(y)?k:Tt(y)?$(k,y):y.map(C=>$(k,C))},ie=(y,k)=>({invalid:!!$((k||r).errors,y),isDirty:!!$((k||r).dirtyFields,y),error:$((k||r).errors,y),isValidating:!!$(r.validatingFields,y),isTouched:!!$((k||r).touchedFields,y)}),ge=y=>{y&&Ss(y).forEach(k=>ye(r.errors,k)),h.state.next({errors:y?r.errors:{}})},Ar=(y,k,C)=>{const I=($(n,y,{_f:{}})._f||{}).ref,R=$(r.errors,y)||{},{ref:O,message:F,type:X,...ee}=R;oe(r.errors,y,{...ee,...k,ref:I}),h.state.next({name:y,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&I&&I.focus&&I.focus()},At=(y,k)=>St(y)?h.state.subscribe({next:C=>y(B(void 0,k),C)}):B(y,k,!0),nn=y=>h.state.subscribe({next:k=>{d1(y.name,k.name,y.exact)&&c1(k,y.formState||d,Rm,y.reRenderRoot)&&y.callback({values:{...i},...r,...k})}}).unsubscribe,It=y=>(o.mount=!0,f={...f,...y.formState},nn({...y,formState:f})),Qt=(y,k={})=>{for(const C of y?Ss(y):a.mount)a.mount.delete(C),a.array.delete(C),k.keepValue||(ye(n,C),ye(i,C)),!k.keepError&&ye(r.errors,C),!k.keepDirty&&ye(r.dirtyFields,C),!k.keepTouched&&ye(r.touchedFields,C),!k.keepIsValidating&&ye(r.validatingFields,C),!t.shouldUnregister&&!k.keepDefaultValue&&ye(s,C);h.state.next({values:be(i)}),h.state.next({...r,...k.keepDirty?{isDirty:Q()}:{}}),!k.keepIsValid&&_()},Xu=({disabled:y,name:k})=>{(Pt(y)&&o.mount||y||a.disabled.has(k))&&(y?a.disabled.add(k):a.disabled.delete(k))},qo=(y,k={})=>{let C=$(n,y);const I=Pt(k.disabled)||Pt(t.disabled);return oe(n,y,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:y}},name:y,mount:!0,...k}}),a.mount.add(y),C?Xu({disabled:Pt(k.disabled)?k.disabled:t.disabled,name:y}):w(y,!0,k.value),{...I?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:ss(k.min),max:ss(k.max),minLength:ss(k.minLength),maxLength:ss(k.maxLength),pattern:ss(k.pattern)}:{},name:y,onChange:We,onBlur:We,ref:R=>{if(R){qo(y,k),C=$(n,y);const O=we(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,F=s1(O),X=C._f.refs||[];if(F?X.find(ee=>ee===O):O===C._f.ref)return;oe(n,y,{_f:{...C._f,...F?{refs:[...X.filter(Na),O,...Array.isArray($(s,y))?[{}]:[]],ref:{type:O.type,name:y}}:{ref:O}}}),w(y,!1,void 0,O)}else C=$(n,y,{}),C._f&&(C._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(X_(a.array,y)&&o.action)&&a.unMount.add(y)}}},Ho=()=>t.shouldFocusError&&ks(n,A,a.mount),Nm=y=>{Pt(y)&&(h.state.next({disabled:y}),ks(n,(k,C)=>{const I=$(n,C);I&&(k.disabled=I._f.disabled||y,Array.isArray(I._f.refs)&&I._f.refs.forEach(R=>{R.disabled=I._f.disabled||y}))},0,!1))},Yu=(y,k)=>async C=>{let I;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let R=be(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:F}=await j();r.errors=O,R=be(F)}else await D(n);if(a.disabled.size)for(const O of a.disabled)ye(R,O);if(ye(r.errors,"root"),He(r.errors)){h.state.next({errors:{}});try{await y(R,C)}catch(O){I=O}}else k&&await k({...r.errors},C),Ho(),setTimeout(Ho);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:He(r.errors)&&!I,submitCount:r.submitCount+1,errors:r.errors}),I)throw I},Tm=(y,k={})=>{$(n,y)&&(we(k.defaultValue)?ke(y,be($(s,y))):(ke(y,k.defaultValue),oe(s,y,be(k.defaultValue))),k.keepTouched||ye(r.touchedFields,y),k.keepDirty||(ye(r.dirtyFields,y),r.isDirty=k.defaultValue?Q(y,be($(s,y))):Q()),k.keepError||(ye(r.errors,y),d.isValid&&_()),h.state.next({...r}))},Zu=(y,k={})=>{const C=y?be(y):s,I=be(C),R=He(y),O=R?s:I;if(k.keepDefaultValues||(s=C),!k.keepValues){if(k.keepDirtyValues){const F=new Set([...a.mount,...Object.keys(ns(s,i))]);for(const X of Array.from(F))$(r.dirtyFields,X)?oe(O,X,$(i,X)):ke(X,$(O,X))}else{if(Wu&&we(y))for(const F of a.mount){const X=$(n,F);if(X&&X._f){const ee=Array.isArray(X._f.refs)?X._f.refs[0]:X._f.ref;if(mo(ee)){const at=ee.closest("form");if(at){at.reset();break}}}}if(k.keepFieldsRef)for(const F of a.mount)ke(F,$(O,F));else n={}}i=t.shouldUnregister?k.keepDefaultValues?be(s):{}:be(O),h.array.next({values:{...O}}),h.state.next({values:{...O}})}a={mount:k.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:R?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!ur(y,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:R?{}:k.keepDirtyValues?k.keepDefaultValues&&i?ns(s,i):r.dirtyFields:k.keepDefaultValues&&y?ns(s,y):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ec=(y,k)=>Zu(St(y)?y(i):y,k),Om=(y,k={})=>{const C=$(n,y),I=C&&C._f;if(I){const R=I.refs?I.refs[0]:I.ref;R.focus&&(R.focus(),k.shouldSelect&&St(R.select)&&R.select())}},Rm=y=>{r={...r,...y}},tc={control:{register:qo,unregister:Qt,getFieldState:ie,handleSubmit:Yu,setError:Ar,_subscribe:nn,_runSchema:j,_focusError:Ho,_getWatch:B,_getDirty:Q,_setValid:_,_setFieldArray:m,_setDisabledField:Xu,_setErrors:g,_getFieldArray:V,_reset:Zu,_resetDefaultValues:()=>St(t.defaultValues)&&t.defaultValues().then(y=>{ec(y,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Nm,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(y){o=y},get _defaultValues(){return s},get _names(){return a},set _names(y){a=y},get _formState(){return r},get _options(){return t},set _options(y){t={...t,...y}}},subscribe:It,trigger:M,register:qo,handleSubmit:Yu,watch:At,setValue:ke,getValues:W,reset:ec,resetField:Tm,clearErrors:ge,unregister:Qt,setError:Ar,setFocus:Om,getFieldState:ie};return{...tc,formControl:tc}}function Ju(e={}){const t=je.useRef(void 0),r=je.useRef(void 0),[n,s]=je.useState({isDirty:!1,isValidating:!1,isLoading:St(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:St(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!St(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...a}=g1(e);t.current={...a,formState:n}}const i=t.current.control;return i._options=e,t1(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),je.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),je.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),je.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),je.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),je.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),je.useEffect(()=>{e.values&&!ur(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=e1(n,i),t.current}const Qu=({isOpen:e,onClose:t,title:r,children:n})=>e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),c.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:c.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(V_,{className:"w-5 h-5"})})]}),n]})})]})}):null,y1=({isOpen:e,onClose:t,user:r})=>{var u,d;const[n,s]=S.useState(!1),{register:i,handleSubmit:o,formState:{errors:a}}=Ju({defaultValues:{email:(r==null?void 0:r.email)||"",full_name:((u=r==null?void 0:r.user_metadata)==null?void 0:u.full_name)||"",phone:((d=r==null?void 0:r.user_metadata)==null?void 0:d.phone)||""}}),l=async f=>{s(!0);try{const h={email:f.email,data:{full_name:f.full_name,phone:f.phone}},{error:v}=await w_(h);if(v)throw v;G.success("Profile updated successfully!"),t()}catch(h){console.error("Profile update error:",h),G.error(h.message||"Failed to update profile")}finally{s(!1)}};return c.jsx(Qu,{isOpen:e,onClose:t,title:"Update Profile",children:c.jsxs("form",{onSubmit:o(l),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",id:"email",...i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",id:"full_name",...i("full_name"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),c.jsx("input",{type:"tel",id:"phone",...i("phone"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx(z,{type:"button",variant:"secondary",onClick:t,disabled:n,children:"Cancel"}),c.jsx(z,{type:"submit",disabled:n,children:n?"Updating...":"Update Profile"})]})]})})},v1=({isOpen:e,onClose:t})=>{const[r,n]=S.useState(!1),[s,i]=S.useState(!1),[o,a]=S.useState(!1),{register:l,handleSubmit:u,formState:{errors:d},watch:f,reset:h}=Ju(),v=f("password"),x=async b=>{n(!0);try{const{error:m}=await x_(b.password);if(m)throw m;G.success("Password updated successfully!"),h(),t()}catch(m){console.error("Password update error:",m),G.error(m.message||"Failed to update password")}finally{n(!1)}},_=()=>{h(),t()};return c.jsx(Qu,{isOpen:e,onClose:_,title:"Change Password",children:c.jsxs("form",{onSubmit:u(x),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",...l("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?c.jsx(Hd,{className:"w-4 h-4"}):c.jsx(Ul,{className:"w-4 h-4"})})]}),d.password&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",id:"confirmPassword",...l("confirmPassword",{required:"Please confirm your password",validate:b=>b===v||"Passwords do not match"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:o?c.jsx(Hd,{className:"w-4 h-4"}):c.jsx(Ul,{className:"w-4 h-4"})})]}),d.confirmPassword&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword.message})]}),c.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[c.jsx("p",{className:"text-sm text-blue-700",children:c.jsx("strong",{children:"Password Requirements:"})}),c.jsxs("ul",{className:"text-sm text-blue-600 mt-1 list-disc list-inside",children:[c.jsx("li",{children:"At least 6 characters long"}),c.jsx("li",{children:"Consider using a mix of letters, numbers, and symbols"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx(z,{type:"button",variant:"secondary",onClick:_,disabled:r,children:"Cancel"}),c.jsx(z,{type:"submit",disabled:r,children:r?"Updating...":"Update Password"})]})]})})},w1=({isOpen:e,onClose:t,userEmail:r})=>{const[n,s]=S.useState(!1),i=Qs(),{register:o,handleSubmit:a,formState:{errors:l},watch:u}=Ju(),d=u("confirmation"),f=async()=>{s(!0);try{const{error:h}=await __();if(h)throw h;G.success("Account deleted successfully"),i("/")}catch(h){console.error("Account deletion error:",h),G.error(h.message||"Failed to delete account")}finally{s(!1)}};return c.jsx(Qu,{isOpen:e,onClose:t,title:"Delete Account",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 rounded-lg",children:[c.jsx(R_,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-red-800",children:"This action cannot be undone"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This will permanently delete your account and all associated data including:"}),c.jsxs("ul",{className:"text-sm text-red-700 mt-2 list-disc list-inside",children:[c.jsx("li",{children:"All businesses and reviews"}),c.jsx("li",{children:"Customer data and review requests"}),c.jsx("li",{children:"Widgets and analytics"}),c.jsx("li",{children:"Subscription information"})]})]})]}),c.jsxs("form",{onSubmit:a(f),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"confirmation",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",c.jsx("strong",{children:"DELETE"})," to confirm:"]}),c.jsx("input",{type:"text",id:"confirmation",...o("confirmation",{required:"Please type DELETE to confirm",validate:h=>h==="DELETE"||"You must type DELETE exactly"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Type DELETE here"}),l.confirmation&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.confirmation.message})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx(z,{type:"button",variant:"secondary",onClick:t,disabled:n,children:"Cancel"}),c.jsx(z,{type:"submit",variant:"danger",disabled:n||d!=="DELETE",children:n?"Deleting...":"Delete Account"})]})]})]})})},x1=()=>{const{user:e}=Rr(),[t,r]=S.useState(!1),[n,s]=S.useState(!1),[i,o]=S.useState(!1),[a,l]=S.useState(!1),[u,d]=S.useState(null);S.useEffect(()=>{(async()=>{if(e)try{const{data:m,error:p}=await Dl(e.id);p&&p.code!=="PGRST116"?console.error("Error loading subscription:",p):d(m)}catch(m){console.error("Error loading subscription:",m)}})()},[e]);const f=async()=>{r(!0),await cm(),r(!1)},h=()=>{const b={id:e.id,email:e.email,created_at:e.created_at,last_sign_in:e.last_sign_in_at,email_confirmed:e.email_confirmed_at},m=JSON.stringify(b,null,2),p="data:application/json;charset=utf-8,"+encodeURIComponent(m),g="user_data.json",w=document.createElement("a");w.setAttribute("href",p),w.setAttribute("download",g),w.click()},v=()=>{l(!0)},x=()=>{s(!0)},_=()=>{o(!0)};return e?c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-white p-3 rounded-full mr-4",children:c.jsx(Kd,{className:"w-8 h-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Profile Settings"}),c.jsx("p",{className:"text-blue-200",children:"Manage your account and preferences"})]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(D_,{className:"w-5 h-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]}),c.jsx("p",{className:"text-gray-900",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Kd,{className:"w-5 h-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User ID"})]}),c.jsx("p",{className:"text-gray-900 text-sm font-mono",children:e.id})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Wd,{className:"w-5 h-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Member Since"})]}),c.jsx("p",{className:"text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(Wd,{className:"w-5 h-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Last Login"})]}),c.jsx("p",{className:"text-gray-900",children:e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleDateString():"N/A"})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(L_,{className:"w-5 h-5 text-gray-500 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subscription"})]}),c.jsx("p",{className:"text-gray-900",children:u?c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:u.plan_name||"Active"}):c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"No active plan"})})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs(z,{onClick:x,className:"flex items-center justify-center",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Update Profile"]}),c.jsxs(z,{onClick:_,variant:"secondary",className:"flex items-center justify-center",children:[c.jsx(Fl,{className:"w-4 h-4 mr-2"}),"Change Password"]}),c.jsxs(z,{onClick:h,variant:"success",className:"flex items-center justify-center",children:[c.jsx($_,{className:"w-4 h-4 mr-2"}),"Export Data"]}),c.jsx(z,{onClick:f,variant:"secondary",disabled:t,className:"flex items-center justify-center",children:t?"Signing out...":"Sign Out"})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Danger Zone"}),c.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),c.jsxs(z,{onClick:v,variant:"danger",className:"flex items-center",children:[c.jsx(pm,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]})]})]}),c.jsx(y1,{isOpen:n,onClose:()=>s(!1),user:e}),c.jsx(v1,{isOpen:i,onClose:()=>o(!1)}),c.jsx(w1,{isOpen:a,onClose:()=>l(!1),userEmail:e.email})]}):null};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Ge||(Ge={}));var Sr;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Sr||(Sr={}));var af;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(af||(af={}));var ve=function(){return ve=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ve.apply(this,arguments)};function km(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function lf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ws="data-react-paypal-script-id",qr={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},_1="Failed to load the PayPal JS SDK script.",bm="paypal",S1="usePayPalScriptReducer must be used within a PayPalScriptProvider";function k1(e){return e===void 0&&(e=bm),window[e]}function b1(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function E1(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,s=n===void 0?"":n,i=e.sdkDataNamespace,o=i===void 0?bm:i,a=r.charAt(0).toUpperCase().concat(r.substring(1)),l="Unable to render <".concat(t," /> because window.").concat(o,".").concat(a," is undefined."),u=typeof s=="string"?s:s.join(",");if(!u.includes(r)){var d=[u,r].filter(Boolean).join();l+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return l}function Em(e){var t=e,r=Ws;t[r];var n=km(t,[r+""]);return"react-paypal-js-".concat(b1(JSON.stringify(n)))}function j1(e){var t=self.document.querySelector("script[".concat(Ws,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function C1(e,t){var r,n;switch(t.type){case Sr.LOADING_STATUS:return typeof t.value=="object"?ve(ve({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):ve(ve({},e),{loadingStatus:t.value});case Sr.RESET_OPTIONS:return j1(e.options[Ws]),ve(ve({},e),{loadingStatus:Ge.PENDING,options:ve(ve((r={},r[qr.DATA_SDK_INTEGRATION_SOURCE]=qr.DATA_LIBRARY_VALUE,r),t.value),(n={},n[Ws]="".concat(Em(t.value)),n))});case Sr.SET_BRAINTREE_INSTANCE:return ve(ve({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var jm=S.createContext(null);function P1(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(S1)}function N1(){var e=P1(S.useContext(jm)),t=ve(ve({},e),{isInitial:e.loadingStatus===Ge.INITIAL,isPending:e.loadingStatus===Ge.PENDING,isResolved:e.loadingStatus===Ge.RESOLVED,isRejected:e.loadingStatus===Ge.REJECTED});return[t,e.dispatch]}S.createContext({});function T1(e){var t=S.useRef(new Proxy({},{get:function(r,n,s){return typeof r[n]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r[n].apply(r,i)}:Reflect.get(r,n,s)}}));return t.current=Object.assign(t.current,e),t.current}var vo=function(e){var t,r=e.className,n=r===void 0?"":r,s=e.disabled,i=s===void 0?!1:s,o=e.children,a=e.forceReRender,l=a===void 0?[]:a,u=km(e,["className","disabled","children","forceReRender"]),d=i?{opacity:.38}:{},f="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),h=S.useRef(null),v=S.useRef(null),x=T1(u),_=N1()[0],b=_.isResolved,m=_.options,p=S.useState(null),g=p[0],w=p[1],E=S.useState(!0),P=E[0],j=E[1],T=S.useState(null),D=T[1];function U(){v.current!==null&&v.current.close().catch(function(){})}return!((t=v.current)===null||t===void 0)&&t.updateProps&&v.current.updateProps({message:u.message}),S.useEffect(function(){if(b===!1)return U;var Q=k1(m.dataNamespace);if(Q===void 0||Q.Buttons===void 0)return D(function(){throw new Error(E1({reactComponentName:vo.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:m.components,sdkDataNamespace:m[qr.DATA_NAMESPACE]}))}),U;var B=function(V,Z){w(Z),typeof u.onInit=="function"&&u.onInit(V,Z)};try{v.current=Q.Buttons(ve(ve({},x),{onInit:B}))}catch(V){return D(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(V))})}return v.current.isEligible()===!1?(j(!1),U):(h.current&&v.current.render(h.current).catch(function(V){h.current===null||h.current.children.length===0||D(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(V))})}),U)},lf(lf([b],l,!0),[u.fundingSource],!1)),S.useEffect(function(){g!==null&&(i===!0?g.disable().catch(function(){}):g.enable().catch(function(){}))},[i,g]),je.createElement(je.Fragment,null,P?je.createElement("div",{ref:h,style:d,className:f}):o)};vo.displayName="PayPalButtons";function O1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function R1(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=Cm(e,t),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function A1(e){var t=e.url,r=e.attributes,n=e.onSuccess,s=e.onError,i=Cm(t,r);i.onerror=s,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function I1(e){var t=e.sdkBaseUrl,r=e.environment,n=O1(e,["sdkBaseUrl","environment"]),s=t||D1(r),i=n,o=Object.keys(i).filter(function(u){return typeof i[u]<"u"&&i[u]!==null&&i[u]!==""}).reduce(function(u,d){var f=i[d].toString();return d=L1(d),d.substring(0,4)==="data"||d==="crossorigin"?u.attributes[d]=f:u.queryParams[d]=f,u},{queryParams:{},attributes:{}}),a=o.queryParams,l=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat($1(a)),attributes:l}}function L1(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function $1(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function D1(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function Cm(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function U1(e,t){if(t===void 0&&(t=Promise),Pm(e,t),typeof document>"u")return t.resolve(null);var r=I1(e),n=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=uf(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),R1(n,s)&&o?t.resolve(o):F1({url:n,attributes:s},t).then(function(){var a=uf(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function F1(e,t){t===void 0&&(t=Promise),Pm(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(s,i){if(typeof document>"u")return s();A1({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function uf(e){return window[e]}function Pm(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var M1=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,s=e.children,i=e.deferLoading,o=i===void 0?!1:i,a=S.useReducer(C1,{options:ve(ve({},n),(t={},t[qr.DATA_JS_SDK_LIBRARY]=qr.DATA_LIBRARY_VALUE,t[qr.DATA_SDK_INTEGRATION_SOURCE]=qr.DATA_LIBRARY_VALUE,t[Ws]="".concat(Em(n)),t)),loadingStatus:o?Ge.INITIAL:Ge.PENDING}),l=a[0],u=a[1];return S.useEffect(function(){if(o===!1&&l.loadingStatus===Ge.INITIAL)return u({type:Sr.LOADING_STATUS,value:Ge.PENDING});if(l.loadingStatus===Ge.PENDING){var d=!0;return U1(l.options).then(function(){d&&u({type:Sr.LOADING_STATUS,value:Ge.RESOLVED})}).catch(function(f){console.error("".concat(_1," ").concat(f)),d&&u({type:Sr.LOADING_STATUS,value:{state:Ge.REJECTED,message:String(f)}})}),function(){d=!1}}},[l.options,o,l.loadingStatus]),je.createElement(jm.Provider,{value:ve(ve({},l),{dispatch:u})},s)};function cf(){}S.createContext({cardFieldsForm:null,fields:{},registerField:cf,unregisterField:cf});const df={STARTER:{id:"starter",name:"Starter",price:29,planId:"P-5ML4271244454362WXNWU5NQ",reviewRequests:100,features:["Up to 100 review requests per month","Basic sentiment analysis","Email notifications","Basic analytics dashboard"],popular:!1},PROFESSIONAL:{id:"professional",name:"Professional",price:59,planId:"P-1GJ4271244454362WXNWU5NQ",reviewRequests:500,features:["Up to 500 review requests per month","Advanced AI sentiment analysis","SMS + Email notifications","Advanced analytics & insights","Custom widget branding","Priority support"],popular:!0},ENTERPRISE:{id:"enterprise",name:"Enterprise",price:99,planId:"P-8RX4271244454362WXNWU5NQ",reviewRequests:"Unlimited",features:["Unlimited review requests","Advanced AI sentiment analysis","SMS + Email notifications","Advanced analytics & insights","Custom widget branding","White-label solution","Dedicated account manager","API access","Custom integrations"],popular:!1}},z1=async e=>{try{console.log(" Creating PayPal portal session...",{subscriptionId:e});const t=new AbortController,r=setTimeout(()=>t.abort(),3e4),n=await fetch("/.netlify/functions/create-paypal-portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:e,returnUrl:`${window.location.origin}/billing`}),signal:t.signal});if(clearTimeout(r),console.log(" Response status:",n.status,n.statusText),!n.ok){let i=`HTTP ${n.status}: ${n.statusText}`;try{const o=await n.text();console.error(" Error response:",o);try{i=JSON.parse(o).error||i}catch{i=o||i}}catch{console.error(" Could not read error response")}throw new Error(`PayPal portal session creation failed: ${i}`)}let s;try{s=await n.json()}catch(i){throw console.error(" Failed to parse JSON response:",i),new Error("Invalid response from server. Please try again.")}if(s.error)throw new Error(s.error);if(!s.url)throw new Error("Invalid session response - missing portal URL");console.log(" PayPal portal session created, redirecting..."),window.location.href=s.url}catch(t){throw console.error(" PayPal portal error:",t),t}},B1=z1,V1=()=>{const{user:e}=Rr(),[t,r]=S.useState(!1),[n,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(null),[u,d]=S.useState("paypal"),f={"client-id":void 0,currency:"USD",intent:"subscription",vault:!0,components:"buttons,hosted-fields","disable-funding":"credit","data-namespace":"paypal_sdk","merchant-id":void 0,"enable-funding":"venmo,paylater"};S.useEffect(()=>{(async()=>{if(e)try{const{data:E,error:P}=await Dl(e.id);P&&P.code!=="PGRST116"?console.error("Error loading subscription:",P):s(E)}catch(E){console.error("Error loading subscription:",E)}finally{o(!1)}})()},[e]);const h=async()=>{try{const E=await(await fetch("/.netlify/functions/debug-paypal")).json();console.log(" PayPal Debug Info:",E),G.success("Debug info logged to console")}catch(w){console.error("Debug failed:",w),G.error("Debug failed: "+w.message)}},v=async()=>{r(!0);try{let w=n==null?void 0:n.paypal_subscription_id;if(!w){const{data:E,error:P}=await C_(e.id);if(P||!(E!=null&&E.paypal_subscription_id))throw new Error("No active subscription found. Please subscribe to a plan first.");w=E.paypal_subscription_id}await B1(w)}catch(w){G.error(w.message)}finally{r(!1)}},x=(w,E)=>{if(!a)return G.error("Please select a plan first"),Promise.reject(new Error("No plan selected"));const P=df[a.toUpperCase()];return!P||!P.planId?(G.error("Invalid plan selected"),Promise.reject(new Error("Invalid plan selected"))):(console.log("Creating subscription for plan:",a,P),E.subscription.create({plan_id:P.planId,subscriber:{email_address:e.email},application_context:{brand_name:"Smart Review SaaS",locale:"en-US",shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW",payment_method:{payer_selected:"PAYPAL",payee_preferred:"IMMEDIATE_PAYMENT_REQUIRED"}},custom_id:e.id}))},_=async(w,E)=>{try{r(!0);const P=await fetch("/.netlify/functions/handle-paypal-approval",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriptionId:w.subscriptionID,userId:e.id,planId:a})});if(!P.ok)throw new Error("Failed to process subscription");const j=await P.json();G.success("Subscription activated successfully!");const{data:T}=await Dl(e.id);s(T),l(null)}catch(P){console.error("Subscription approval error:",P),G.error("Failed to activate subscription: "+P.message)}finally{r(!1)}},b=w=>{console.error("PayPal subscription error:",w),G.error("Payment failed. Please try again."),r(!1)},m=w=>{console.log("PayPal subscription cancelled:",w),G.info("Payment cancelled"),l(null),r(!1)},p=({plan:w})=>(je.useEffect(()=>{w&&w.id&&l(w.id)},[w]),c.jsx(vo,{style:{layout:"vertical",color:"blue",shape:"rect",label:"subscribe"},createSubscription:(E,P)=>(a||l(w.id),x(E,P)),onApprove:_,onError:b,onCancel:m,disabled:t||n&&n.status==="active"}));return c.jsx(M1,{options:f,children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Billing"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-100px.png",alt:"PayPal",className:"h-6"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Secure payments powered by PayPal"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(z,{onClick:h,className:"bg-yellow-600 hover:bg-yellow-700",children:"Debug PayPal"}),n&&c.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["Current Plan: ",n.plan_name||"Active"]})]})]}),!1,i?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading subscription..."})]}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[Object.values(df).map(w=>c.jsxs("div",{className:`bg-white p-6 rounded-lg shadow-md relative ${w.popular?"ring-2 ring-blue-500":""}`,children:[w.popular&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:c.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"Most Popular"})}),c.jsx("h2",{className:"text-xl font-semibold",children:w.name}),c.jsxs("div",{className:"my-2 text-4xl font-bold text-gray-900",children:["$",w.price,"/mo"]}),c.jsx("ul",{className:"mt-4 space-y-2",children:w.features.map((E,P)=>c.jsxs("li",{className:"text-gray-600 flex items-start",children:[c.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),E]},P))}),c.jsx("div",{className:"mt-6",children:n&&n.status==="active"?c.jsx(z,{disabled:!0,className:"w-full bg-gray-400",children:"Current Plan"}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d("paypal"),className:`flex-1 py-2 px-3 text-sm rounded-md border ${u==="paypal"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700"}`,children:"PayPal"}),c.jsx("button",{onClick:()=>d("card"),className:`flex-1 py-2 px-3 text-sm rounded-md border ${u==="card"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700"}`,children:"Card"})]}),u==="paypal"?c.jsx(p,{plan:w}):c.jsx(vo,{style:{layout:"vertical",color:"black",shape:"rect",label:"pay"},fundingSource:"card",createSubscription:(E,P)=>(l(w.id),console.log("Creating card subscription for plan:",w.id),x(E,P)),onApprove:_,onError:b,onCancel:m,disabled:t})]})})]},w.id)),c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Manage Your Subscription"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Access your PayPal billing portal to view or cancel your subscription at any time."}),n?c.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:[c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Status:"})," ",n.status||"Active"]}),n.current_period_end&&c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Next billing:"})," ",new Date(n.current_period_end).toLocaleDateString()]})]}):c.jsx("div",{className:"mb-4 p-3 bg-yellow-50 rounded-md",children:c.jsx("p",{className:"text-sm text-yellow-700",children:"No active subscription found. Subscribe to a plan to access the billing portal."})}),c.jsx(z,{onClick:v,disabled:t||!n,className:"w-full",children:t?"Loading...":"Manage Subscription"}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[c.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-100px.png",alt:"PayPal",className:"h-4"}),c.jsx("span",{children:"Secure billing powered by PayPal"})]})})]})]})]})})},bi=({children:e})=>{const{user:t}=Rr();return t?e:c.jsx(Lp,{to:"/login"})},ff=({children:e})=>{const{user:t}=Rr();return t?c.jsx(Lp,{to:"/dashboard"}):e};function W1(){return c.jsx(u0,{children:c.jsx(P_,{children:c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(N_,{}),c.jsxs(r0,{children:[c.jsx(er,{path:"/",element:c.jsx(W_,{})}),c.jsx(er,{path:"/login",element:c.jsx(ff,{children:c.jsx(q_,{})})}),c.jsx(er,{path:"/signup",element:c.jsx(ff,{children:c.jsx(H_,{})})}),c.jsx(er,{path:"/dashboard",element:c.jsx(bi,{children:c.jsx(K_,{})})}),c.jsx(er,{path:"/reviews",element:c.jsx(bi,{children:c.jsx(G_,{})})}),c.jsx(er,{path:"/profile",element:c.jsx(bi,{children:c.jsx(x1,{})})}),c.jsx(er,{path:"/billing",element:c.jsx(bi,{children:c.jsx(V1,{})})})]}),c.jsx(rw,{position:"top-right"})]})})})}Ta.createRoot(document.getElementById("root")).render(c.jsx(je.StrictMode,{children:c.jsx(W1,{})}));
